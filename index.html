<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>ÊÅãÁà±‰∫∫Ê†ºÂõæÈâ¥</title>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
  background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 30%, #f0e6ff 70%, #ede9fe 100%);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  color: #374151;
  overflow-x: hidden;
}

.app {
  width: 100%;
  max-width: 420px;
  min-height: 100vh;
  position: relative;
}

/* ========== Screens ========== */
.screen {
  display: none;
  padding: 40px 24px;
  animation: fadeIn 0.5s ease;
}
.screen.active { display: flex; flex-direction: column; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.6); }
  to { opacity: 1; transform: scale(1); }
}
@keyframes slideUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}
@keyframes countUp {
  from { opacity: 0; transform: scale(0.3); }
  to { opacity: 1; transform: scale(1); }
}
@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

/* ========== Start Screen ========== */
.start-screen {
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  text-align: center;
}

.start-icon {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: linear-gradient(135deg, #f472b6, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 48px;
  margin-bottom: 32px;
  animation: float 3s ease-in-out infinite;
  box-shadow: 0 12px 40px rgba(244, 114, 182, 0.3);
}

.start-screen h1 {
  font-size: 28px;
  font-weight: 800;
  background: linear-gradient(135deg, #ec4899, #8b5cf6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 16px;
}

.start-screen .subtitle {
  font-size: 15px;
  color: #9ca3af;
  line-height: 1.8;
  margin-bottom: 40px;
}

.start-btn {
  width: 220px;
  height: 54px;
  border: none;
  border-radius: 27px;
  background: linear-gradient(135deg, #ec4899, #a855f7);
  color: white;
  font-size: 18px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 8px 30px rgba(236, 72, 153, 0.4);
  transition: all 0.3s;
  letter-spacing: 2px;
}
.start-btn:active {
  transform: scale(0.96);
  box-shadow: 0 4px 15px rgba(236, 72, 153, 0.3);
}

.start-footer {
  margin-top: 48px;
  font-size: 12px;
  color: #d1d5db;
}

/* ========== Quiz Screen ========== */
.quiz-screen {
  min-height: 100vh;
  padding-top: 24px;
}

.progress-bar-wrap {
  width: 100%;
  height: 6px;
  background: rgba(255,255,255,0.5);
  border-radius: 3px;
  margin-bottom: 8px;
  overflow: hidden;
}
.progress-bar {
  height: 100%;
  background: linear-gradient(90deg, #ec4899, #a855f7);
  border-radius: 3px;
  transition: width 0.4s ease;
}

.progress-text {
  font-size: 13px;
  color: #9ca3af;
  text-align: right;
  margin-bottom: 32px;
}

.question-container {
  animation: fadeIn 0.4s ease;
}

.question-num {
  font-size: 14px;
  font-weight: 600;
  color: #a855f7;
  margin-bottom: 8px;
}

.question-text {
  font-size: 20px;
  font-weight: 700;
  color: #1f2937;
  line-height: 1.5;
  margin-bottom: 28px;
}

.options {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.option-btn {
  width: 100%;
  padding: 16px 20px;
  border: 2px solid rgba(168, 85, 247, 0.15);
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  font-size: 15px;
  color: #374151;
  text-align: left;
  cursor: pointer;
  transition: all 0.3s;
  line-height: 1.5;
}
.option-btn:active {
  transform: scale(0.98);
}
.option-btn.selected {
  border-color: #a855f7;
  background: linear-gradient(135deg, rgba(236,72,153,0.1), rgba(168,85,247,0.1));
  color: #7c3aed;
  font-weight: 600;
  box-shadow: 0 4px 15px rgba(168, 85, 247, 0.15);
}

/* ========== Loading Screen ========== */
.loading-screen {
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  text-align: center;
}

.loading-heart {
  font-size: 64px;
  animation: pulse 1s ease-in-out infinite;
  margin-bottom: 24px;
}

.loading-text {
  font-size: 16px;
  color: #9ca3af;
  line-height: 1.8;
}

.loading-dots::after {
  content: '';
  animation: dots 1.5s steps(3) infinite;
}
@keyframes dots {
  0% { content: ''; }
  33% { content: '.'; }
  66% { content: '..'; }
  100% { content: '...'; }
}

/* ========== Result Screen ========== */
.result-screen {
  align-items: center;
  min-height: 100vh;
  padding-top: 32px;
  padding-bottom: 40px;
}

.result-card {
  width: 100%;
  border-radius: 24px;
  padding: 36px 24px;
  text-align: center;
  position: relative;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.08);
}

.result-card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3) 0%, transparent 60%);
  pointer-events: none;
}

.result-label {
  font-size: 13px;
  color: rgba(255,255,255,0.8);
  margin-bottom: 8px;
  letter-spacing: 3px;
}

.result-percentage {
  font-size: 72px;
  font-weight: 900;
  color: white;
  line-height: 1;
  margin-bottom: 4px;
  animation: countUp 0.8s ease-out;
  text-shadow: 0 4px 20px rgba(0,0,0,0.1);
}

.result-percentage-sign {
  font-size: 36px;
  font-weight: 700;
}

.result-type-icon {
  font-size: 48px;
  margin: 16px 0 8px;
  animation: scaleIn 0.6s ease 0.3s both;
}

.result-type-name {
  font-size: 26px;
  font-weight: 800;
  color: white;
  margin-bottom: 20px;
  animation: slideUp 0.5s ease 0.4s both;
}

.result-tags {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 8px;
  margin-bottom: 12px;
  animation: slideUp 0.5s ease 0.5s both;
}

.result-tag {
  padding: 6px 16px;
  border-radius: 20px;
  background: rgba(255,255,255,0.25);
  backdrop-filter: blur(10px);
  color: white;
  font-size: 13px;
  font-weight: 500;
}

.trait-tags {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 8px;
  margin-bottom: 0;
  animation: slideUp 0.5s ease 0.6s both;
}

.trait-tag {
  padding: 6px 16px;
  border-radius: 20px;
  border: 1.5px solid rgba(255,255,255,0.4);
  color: rgba(255,255,255,0.9);
  font-size: 12px;
  font-weight: 500;
}

/* Description card */
.desc-card {
  width: 100%;
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 24px;
  margin-top: 20px;
  text-align: left;
  box-shadow: 0 8px 30px rgba(0,0,0,0.04);
  animation: slideUp 0.5s ease 0.7s both;
}

.desc-card-title {
  font-size: 16px;
  font-weight: 700;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.desc-card p {
  font-size: 14px;
  line-height: 1.9;
  color: #4b5563;
}

/* Match info */
.match-card {
  width: 100%;
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 24px;
  margin-top: 12px;
  text-align: left;
  box-shadow: 0 8px 30px rgba(0,0,0,0.04);
  animation: slideUp 0.5s ease 0.8s both;
}

.match-row {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 0;
}
.match-row + .match-row {
  border-top: 1px solid rgba(0,0,0,0.05);
}
.match-emoji { font-size: 22px; }
.match-label { font-size: 13px; color: #9ca3af; min-width: 64px; }
.match-value { font-size: 14px; font-weight: 600; color: #374151; }

/* Buttons */
.result-actions {
  display: flex;
  gap: 12px;
  margin-top: 24px;
  width: 100%;
  animation: slideUp 0.5s ease 0.9s both;
}

.btn-retry, .btn-share {
  flex: 1;
  height: 48px;
  border-radius: 24px;
  border: none;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
}

.btn-retry {
  background: rgba(255,255,255,0.8);
  color: #6b7280;
  border: 1.5px solid #e5e7eb;
}
.btn-retry:active { transform: scale(0.96); }

.btn-share {
  background: linear-gradient(135deg, #ec4899, #a855f7);
  color: white;
  box-shadow: 0 6px 20px rgba(236, 72, 153, 0.3);
}
.btn-share:active { transform: scale(0.96); }

/* Toast */
.toast {
  position: fixed;
  top: 60px;
  left: 50%;
  transform: translateX(-50%) translateY(-20px);
  background: rgba(0,0,0,0.75);
  color: white;
  padding: 10px 24px;
  border-radius: 20px;
  font-size: 14px;
  opacity: 0;
  transition: all 0.3s;
  pointer-events: none;
  z-index: 100;
}
.toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* Color themes for result types */
.theme-healing { background: linear-gradient(135deg, #fbbf24, #f59e0b, #f97316); }
.theme-adventure { background: linear-gradient(135deg, #f97316, #ef4444, #ec4899); }
.theme-rational { background: linear-gradient(135deg, #06b6d4, #3b82f6, #6366f1); }
.theme-romantic { background: linear-gradient(135deg, #ec4899, #a855f7, #8b5cf6); }
.theme-guardian { background: linear-gradient(135deg, #10b981, #059669, #0d9488); }
.theme-soulmate { background: linear-gradient(135deg, #6366f1, #4f46e5, #7c3aed); }

/* ========== Share Card ========== */
.share-card {
  width: 100%;
  border-radius: 24px;
  padding: 32px 20px 20px;
  text-align: center;
  position: relative;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.1);
}
.share-card::before {
  content: '';
  position: absolute;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.25) 0%, transparent 60%);
  pointer-events: none;
}
.share-card-inner { position: relative; z-index: 1; }
.share-rank {
  display: inline-block;
  padding: 4px 14px;
  border-radius: 12px;
  background: rgba(255,255,255,0.2);
  color: rgba(255,255,255,0.9);
  font-size: 12px;
  margin-bottom: 12px;
}
.share-pct {
  font-size: 64px;
  font-weight: 900;
  color: white;
  line-height: 1;
  animation: countUp 0.8s ease-out;
}
.share-pct-sign { font-size: 32px; }
.share-type-icon { font-size: 40px; margin: 10px 0 4px; }
.share-type-name {
  font-size: 24px;
  font-weight: 800;
  color: white;
  margin-bottom: 6px;
}
.share-quote {
  font-size: 13px;
  color: rgba(255,255,255,0.85);
  font-style: italic;
  margin-bottom: 16px;
  line-height: 1.6;
}
.share-tags {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 6px;
  margin-bottom: 16px;
}
.share-tag {
  padding: 4px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,0.2);
  color: white;
  font-size: 12px;
}

/* Radar chart area */
.radar-wrap {
  display: flex;
  justify-content: center;
  margin: 8px 0 16px;
}
.radar-wrap canvas { max-width: 280px; max-height: 280px; }

/* Share card footer */
.share-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-top: 1px solid rgba(255,255,255,0.15);
  padding-top: 14px;
  margin-top: 4px;
}
.share-footer-brand {
  font-size: 11px;
  color: rgba(255,255,255,0.6);
  text-align: left;
  line-height: 1.5;
}
.share-footer-qr {
  width: 52px; height: 52px;
  background: white;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 9px;
  color: #666;
  text-align: center;
  line-height: 1.3;
}

/* Share CTA strip */
.share-cta {
  width: 100%;
  margin-top: 16px;
  padding: 14px;
  border-radius: 16px;
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(10px);
  text-align: center;
  animation: slideUp 0.4s ease 0.5s both;
}
.share-cta-text {
  font-size: 13px;
  color: #6b7280;
  margin-bottom: 10px;
}
.share-cta-btns {
  display: flex;
  gap: 10px;
}
.share-cta-btns button {
  flex: 1;
  height: 42px;
  border-radius: 21px;
  border: none;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
}
.share-cta-btns button:active { transform: scale(0.96); }
.btn-save {
  background: linear-gradient(135deg, #ec4899, #a855f7);
  color: white;
  box-shadow: 0 4px 15px rgba(236,72,153,0.3);
}
.btn-retest {
  background: white;
  color: #6b7280;
  border: 1.5px solid #e5e7eb !important;
}

/* ========== Free Brief Section ========== */
.brief-section {
  width: 100%;
  margin-top: 16px;
  animation: slideUp 0.5s ease 0.6s both;
}
.brief-card {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 20px;
  margin-bottom: 12px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.04);
}
.brief-card-title {
  font-size: 15px;
  font-weight: 700;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 6px;
}
.brief-card p {
  font-size: 13px;
  line-height: 1.8;
  color: #4b5563;
}
.brief-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 0;
}
.brief-row + .brief-row { border-top: 1px solid rgba(0,0,0,0.05); }
.brief-row .be { font-size: 20px; }
.brief-row .bl { font-size: 12px; color: #9ca3af; min-width: 56px; }
.brief-row .bv { font-size: 13px; font-weight: 600; color: #374151; flex: 1; }

/* ========== Paid Report Section ========== */
.paid-section {
  width: 100%;
  margin-top: 20px;
  animation: slideUp 0.5s ease 0.8s both;
}
.paid-header {
  text-align: center;
  margin-bottom: 16px;
}
.paid-header h3 {
  font-size: 18px;
  font-weight: 800;
  color: #1f2937;
  margin-bottom: 4px;
}
.paid-header p {
  font-size: 13px;
  color: #9ca3af;
}

/* Locked preview cards */
.locked-card {
  position: relative;
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 20px;
  margin-bottom: 12px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.04);
  overflow: hidden;
}
.locked-card.is-locked .locked-content {
  max-height: 80px;
  overflow: hidden;
  -webkit-mask-image: linear-gradient(to bottom, #000 20%, transparent 100%);
  mask-image: linear-gradient(to bottom, #000 20%, transparent 100%);
}
.locked-card.is-locked .lock-overlay {
  display: flex;
}
.lock-overlay {
  display: none;
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 70px;
  align-items: flex-end;
  justify-content: center;
  padding-bottom: 14px;
}
.lock-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 12px;
  border-radius: 12px;
  background: rgba(139,92,246,0.1);
  color: #7c3aed;
  font-size: 12px;
  font-weight: 600;
}

/* Unlock CTA */
.unlock-cta {
  width: 100%;
  border-radius: 20px;
  padding: 24px 20px;
  text-align: center;
  background: linear-gradient(135deg, #fdf2f8, #f0e6ff);
  border: 2px dashed rgba(168,85,247,0.25);
  margin-bottom: 12px;
}
.unlock-price-row {
  display: flex;
  align-items: baseline;
  justify-content: center;
  gap: 8px;
  margin-bottom: 4px;
}
.unlock-price {
  font-size: 32px;
  font-weight: 900;
  color: #7c3aed;
}
.unlock-price-orig {
  font-size: 14px;
  color: #d1d5db;
  text-decoration: line-through;
}
.unlock-limited {
  display: inline-block;
  padding: 2px 10px;
  border-radius: 8px;
  background: linear-gradient(135deg, #ec4899, #a855f7);
  color: white;
  font-size: 11px;
  font-weight: 600;
  margin-bottom: 12px;
}
.unlock-list {
  text-align: left;
  margin: 12px auto;
  max-width: 260px;
}
.unlock-list-item {
  font-size: 13px;
  color: #4b5563;
  padding: 3px 0;
  display: flex;
  align-items: center;
  gap: 6px;
}
.unlock-list-item::before {
  content: '‚úì';
  color: #a855f7;
  font-weight: 700;
  font-size: 12px;
}
.unlock-btn {
  width: 100%;
  height: 52px;
  border: none;
  border-radius: 26px;
  background: linear-gradient(135deg, #ec4899, #a855f7);
  color: white;
  font-size: 17px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 8px 30px rgba(168,85,247,0.35);
  margin-top: 16px;
  transition: all 0.3s;
  letter-spacing: 1px;
}
.unlock-btn:active { transform: scale(0.97); }
.unlock-count {
  font-size: 12px;
  color: #9ca3af;
  margin-top: 10px;
}

/* ========== Unlocked Report ========== */
.report-unlocked { display: none; width: 100%; }
.report-unlocked.show { display: block; }
.report-card {
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 20px;
  margin-bottom: 12px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.04);
  animation: slideUp 0.4s ease both;
}
.report-card-title {
  font-size: 15px;
  font-weight: 700;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 6px;
}
.report-item {
  display: flex;
  gap: 10px;
  padding: 8px 0;
  font-size: 13px;
  line-height: 1.7;
  color: #4b5563;
}
.report-item + .report-item { border-top: 1px solid rgba(0,0,0,0.04); }
.report-item-icon { font-size: 16px; flex-shrink: 0; padding-top: 2px; }
.report-item-text { flex: 1; }

/* Compatibility bars */
.compat-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 7px 0;
}
.compat-row + .compat-row { border-top: 1px solid rgba(0,0,0,0.04); }
.compat-name {
  font-size: 12px;
  color: #6b7280;
  min-width: 72px;
  white-space: nowrap;
}
.compat-bar-bg {
  flex: 1;
  height: 8px;
  background: #f3f4f6;
  border-radius: 4px;
  overflow: hidden;
}
.compat-bar {
  height: 100%;
  border-radius: 4px;
  transition: width 1s ease;
}
.compat-pct {
  font-size: 12px;
  font-weight: 700;
  min-width: 36px;
  text-align: right;
}

/* Report advice highlight */
.advice-box {
  padding: 14px;
  border-radius: 14px;
  background: linear-gradient(135deg, rgba(236,72,153,0.06), rgba(168,85,247,0.06));
  margin-bottom: 8px;
}
.advice-box:last-child { margin-bottom: 0; }
.advice-box-title {
  font-size: 13px;
  font-weight: 700;
  color: #7c3aed;
  margin-bottom: 6px;
}
.advice-box-text {
  font-size: 13px;
  line-height: 1.7;
  color: #4b5563;
}

/* Payment modal */
.pay-modal {
  display: none;
  position: fixed;
  inset: 0;
  z-index: 200;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(4px);
}
.pay-modal.show { display: flex; }
.pay-modal-box {
  width: 300px;
  background: white;
  border-radius: 24px;
  padding: 32px 24px;
  text-align: center;
  animation: scaleIn 0.3s ease;
}
.pay-modal-icon { font-size: 48px; margin-bottom: 12px; }
.pay-modal-title { font-size: 18px; font-weight: 700; margin-bottom: 6px; }
.pay-modal-desc { font-size: 13px; color: #9ca3af; margin-bottom: 20px; }
.pay-modal-btn {
  width: 100%;
  height: 48px;
  border: none;
  border-radius: 24px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  margin-bottom: 8px;
  transition: all 0.3s;
}
.pay-modal-btn:active { transform: scale(0.97); }
.pay-modal-confirm {
  background: linear-gradient(135deg, #ec4899, #a855f7);
  color: white;
}
.pay-modal-cancel {
  background: #f3f4f6;
  color: #6b7280;
}

/* ========== Share Sheet ========== */
.share-sheet {
  display: none;
  position: fixed;
  inset: 0;
  z-index: 200;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(4px);
  align-items: flex-end;
  justify-content: center;
}
.share-sheet.show { display: flex; }
.share-sheet-box {
  width: 100%;
  max-width: 420px;
  background: white;
  border-radius: 24px 24px 0 0;
  padding: 24px 20px 32px;
  animation: sheetUp 0.3s ease;
}
@keyframes sheetUp {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}
.share-sheet-title {
  font-size: 16px;
  font-weight: 700;
  text-align: center;
  margin-bottom: 20px;
  color: #1f2937;
}
.share-platforms {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 20px;
}
.share-platform {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  border: none;
  background: none;
  padding: 0;
}
.share-platform-icon {
  width: 52px;
  height: 52px;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  transition: transform 0.2s;
}
.share-platform:active .share-platform-icon { transform: scale(0.92); }
.share-platform-name {
  font-size: 11px;
  color: #6b7280;
}
.sp-wechat { background: #07c160; }
.sp-red { background: #ff2442; }
.sp-douyin { background: #000; }
.sp-xianyu { background: #ffcd00; }

/* Share caption area */
.share-caption-area {
  display: none;
  background: #f9fafb;
  border-radius: 14px;
  padding: 14px;
  margin-bottom: 16px;
}
.share-caption-area.show { display: block; }
.share-caption-label {
  font-size: 12px;
  color: #9ca3af;
  margin-bottom: 6px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.share-caption-text {
  font-size: 13px;
  line-height: 1.7;
  color: #374151;
  white-space: pre-line;
}
.share-copy-btn {
  font-size: 12px;
  color: #a855f7;
  background: none;
  border: 1px solid #a855f7;
  border-radius: 10px;
  padding: 2px 10px;
  cursor: pointer;
}
.share-copy-btn:active { background: rgba(168,85,247,0.1); }

/* Save image tip */
.share-img-tip {
  display: none;
  text-align: center;
  margin-bottom: 16px;
}
.share-img-tip.show { display: block; }
.share-img-tip img {
  max-width: 100%;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  margin-bottom: 8px;
}
.share-img-tip p {
  font-size: 12px;
  color: #9ca3af;
}

.share-sheet-cancel {
  width: 100%;
  height: 48px;
  border: none;
  border-radius: 24px;
  background: #f3f4f6;
  color: #6b7280;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
}
</style>
</head>
<body>

<div class="app">
  <!-- Start Screen -->
  <div class="screen start-screen active" id="startScreen">
    <div class="start-icon">üíï</div>
    <h1>ÊÅãÁà±‰∫∫Ê†ºÂõæÈâ¥</h1>
    <div class="subtitle">
      ÊØè‰∏™‰∫∫ÂøÉ‰∏≠ÈÉΩËóèÁùÄ‰∏ÄÁßçÁã¨ÁâπÁöÑÁà±ÁöÑÊñπÂºè<br>
      8ÈÅìÈ¢òÔºåËß£ÈîÅ‰Ω†ÁöÑÊÅãÁà±‰∫∫Ê†ºÂØÜÁ†Å<br>
      ÂèëÁé∞‰Ω†Âú®Áà±ÊÉÖ‰∏≠ÁúüÂÆûÁöÑÊ†∑Â≠ê
    </div>
    <button class="start-btn" onclick="startQuiz()">ÂºÄÂßãÊµãËØï</button>
    <div class="start-footer">Â∑≤Êúâ 26,847 ‰∫∫ÂÆåÊàêÊµãËØï</div>
  </div>

  <!-- Quiz Screen -->
  <div class="screen quiz-screen" id="quizScreen">
    <div class="progress-bar-wrap">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div class="progress-text" id="progressText"></div>
    <div class="question-container" id="questionContainer"></div>
  </div>

  <!-- Loading Screen -->
  <div class="screen loading-screen" id="loadingScreen">
    <div class="loading-heart">üíó</div>
    <div class="loading-text">
      Ê≠£Âú®ÂàÜÊûê‰Ω†ÁöÑÊÅãÁà±‰∫∫Ê†º<span class="loading-dots"></span><br>
      <span style="font-size:13px; color:#d1d5db; margin-top:8px; display:inline-block;">AI Ê∑±Â∫¶Ëß£ËØª‰∏≠</span>
    </div>
  </div>

  <!-- Result Screen -->
  <div class="screen result-screen" id="resultScreen"></div>
</div>

<div class="toast" id="toast"></div>

<!-- Share Sheet -->
<div class="share-sheet" id="shareSheet">
  <div class="share-sheet-box">
    <div class="share-sheet-title">ÂàÜ‰∫´Âà∞</div>
    <div class="share-platforms">
      <button class="share-platform" onclick="shareTo('wechat')">
        <div class="share-platform-icon sp-wechat"><span style="color:white">ÂæÆ</span></div>
        <span class="share-platform-name">ÂæÆ‰ø°</span>
      </button>
      <button class="share-platform" onclick="shareTo('red')">
        <div class="share-platform-icon sp-red"><span style="color:white">Á∫¢</span></div>
        <span class="share-platform-name">Â∞èÁ∫¢‰π¶</span>
      </button>
      <button class="share-platform" onclick="shareTo('douyin')">
        <div class="share-platform-icon sp-douyin"><span style="color:white">Êäñ</span></div>
        <span class="share-platform-name">ÊäñÈü≥</span>
      </button>
      <button class="share-platform" onclick="shareTo('xianyu')">
        <div class="share-platform-icon sp-xianyu"><span style="color:#333">È±º</span></div>
        <span class="share-platform-name">Èó≤È±º</span>
      </button>
    </div>
    <div class="share-img-tip" id="shareImgTip">
      <img id="shareImgPreview" src="" alt="ÂàÜ‰∫´Âõæ">
      <p>ÈïøÊåâÂõæÁâá‰øùÂ≠òÂà∞Áõ∏ÂÜåÔºåÁÑ∂ÂêéÂéªÂØπÂ∫îAppÂèëÂ∏É</p>
    </div>
    <div class="share-caption-area" id="shareCaptionArea">
      <div class="share-caption-label">
        <span id="shareCaptionLabel">Êé®ËçêÊñáÊ°à</span>
        <button class="share-copy-btn" onclick="copyCaption()">Â§çÂà∂ÊñáÊ°à</button>
      </div>
      <div class="share-caption-text" id="shareCaptionText"></div>
    </div>
    <button class="share-sheet-cancel" onclick="closeShare()">ÂèñÊ∂à</button>
  </div>
</div>


<script>
// ===== Radar Chart =====
function drawRadar(canvasId, scoresObj, themeColor) {
  const canvas = document.getElementById(canvasId);
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = 280, H = 280, cx = W/2, cy = H/2, R = 72;
  canvas.width = W * 2; canvas.height = H * 2;
  canvas.style.width = W+'px'; canvas.style.height = H+'px';
  ctx.scale(2, 2);

  const labels = ['Ê≤ªÊÑà¬∑Â∞èÂ§™Èò≥ÂÄº','ÂÜíÈô©¬∑ÂøÉÂä®Âà∂ÈÄ†Âäõ','ÁêÜÊô∫¬∑Ê∏ÖÈÜíÊµìÂ∫¶','Êµ™Êº´¬∑Á≤âÁ∫¢Ê≥°Ê≥°','ÂÆàÊä§¬∑Èì†Áî≤ÂéöÂ∫¶','ÁÅµÈ≠Ç¬∑Á¨¨ÂÖ≠ÊÑü'];
  const keys = ['healing','adventure','rational','romantic','guardian','soulmate'];
  const maxS = Math.max(...Object.values(scoresObj), 1);
  const vals = keys.map(k => (scoresObj[k]||0)/maxS);
  const n = 6;

  // grid
  for (let ring = 1; ring <= 3; ring++) {
    const r = R * ring / 3;
    ctx.beginPath();
    for (let i = 0; i <= n; i++) {
      const a = Math.PI*2*i/n - Math.PI/2;
      const x = cx + r*Math.cos(a), y = cy + r*Math.sin(a);
      i === 0 ? ctx.moveTo(x,y) : ctx.lineTo(x,y);
    }
    ctx.closePath();
    ctx.strokeStyle = 'rgba(255,255,255,0.2)';
    ctx.lineWidth = 1;
    ctx.stroke();
  }
  // axes
  for (let i = 0; i < n; i++) {
    const a = Math.PI*2*i/n - Math.PI/2;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(cx + R*Math.cos(a), cy + R*Math.sin(a));
    ctx.strokeStyle = 'rgba(255,255,255,0.15)';
    ctx.stroke();
  }
  // data shape
  ctx.beginPath();
  for (let i = 0; i <= n; i++) {
    const idx = i % n;
    const a = Math.PI*2*idx/n - Math.PI/2;
    const v = 0.2 + vals[idx]*0.8;
    const x = cx + R*v*Math.cos(a), y = cy + R*v*Math.sin(a);
    i === 0 ? ctx.moveTo(x,y) : ctx.lineTo(x,y);
  }
  ctx.closePath();
  ctx.fillStyle = 'rgba(255,255,255,0.2)';
  ctx.fill();
  ctx.strokeStyle = 'rgba(255,255,255,0.8)';
  ctx.lineWidth = 2;
  ctx.stroke();
  // dots + labels
  for (let i = 0; i < n; i++) {
    const a = Math.PI*2*i/n - Math.PI/2;
    const v = 0.2 + vals[i]*0.8;
    const x = cx + R*v*Math.cos(a), y = cy + R*v*Math.sin(a);
    ctx.beginPath();
    ctx.arc(x,y,3,0,Math.PI*2);
    ctx.fillStyle = 'white';
    ctx.fill();
    const lx = cx + (R+32)*Math.cos(a), ly = cy + (R+32)*Math.sin(a);
    ctx.fillStyle = 'rgba(255,255,255,0.85)';
    ctx.font = '600 10px -apple-system, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(labels[i], lx, ly);
  }
}

// ===== Data =====
const questions = [
  {
    q: "Á∫¶‰ºöÊó∂Ôºå‰Ω†ÊúÄÊúüÂæÖÁöÑÁéØËäÇÊòØÔºü",
    opts: [
      { text: "‰∏ÄËµ∑Â∞ùËØïÊ≤°ÂÅöËøáÁöÑ‰∫ãÔºåÊØîÂ¶ÇÊîÄÂ≤©„ÄÅÂØÜÂÆ§ÈÄÉËÑ±", scores: { adventure: 2 } },
      { text: "Êâæ‰∏™ËàíÊúçÁöÑÂú∞ÊñπÔºåÂÆâÈùôÂæÖÂú®‰∏ÄËµ∑Â∞±ÂæàÂπ∏Á¶è", scores: { healing: 2 } },
      { text: "Á≤æÂøÉÁ≠ñÂàíÁöÑÊµ™Êº´ÊÉäÂñúÔºåÁÉõÂÖâÊôöÈ§êÊàñÊâãÂÜô‰ø°", scores: { romantic: 2 } },
      { text: "Ê∑±ÂÖ•ËÅäËÅäÂΩºÊ≠§ÁöÑÊÉ≥Ê≥ïÔºåË∂äËÅäË∂äÊúâÁÅ´Ëä±", scores: { soulmate: 2 } }
    ]
  },
  {
    q: "Âíå‰º¥‰æ£‰∫ßÁîüÁüõÁõæÂêéÔºå‰Ω†ÈÄöÂ∏∏‰ºöÔºü",
    opts: [
      { text: "ÂÖàÂÜ∑Èùô‰∏ãÊù•ÔºåÁêÜÊÄßÂàÜÊûêÈóÆÈ¢òÂá∫Âú®Âì™Èáå", scores: { rational: 2 } },
      { text: "‰∏ªÂä®Á§∫Â•ΩÔºå‰∏çÂøçÂøÉÁúãÂØπÊñπÈöæËøá", scores: { healing: 2 } },
      { text: "ÈúÄË¶ÅÁã¨Â§ÑÁöÑÁ©∫Èó¥Êù•Ê∂àÂåñÊÉÖÁª™ÂíåÊÄùËÄÉ", scores: { soulmate: 1, rational: 1 } },
      { text: "ÂÜô‰∏ÄÊÆµÈïøÈïøÁöÑËØùÂèëÁªôÂØπÊñπÔºåË°®ËææÂÜÖÂøÉÊÑüÂèó", scores: { romantic: 2 } }
    ]
  },
  {
    q: "‰Ω†ÁêÜÊÉ≥‰∏≠ÁöÑÊÅãÁà±Áä∂ÊÄÅÊòØÔºü",
    opts: [
      { text: "Áõ∏‰∫íÁã¨Á´ãÂèàÂΩºÊ≠§ÊîØÊåÅÔºåÂêÑËá™Á≤æÂΩ©‰πüÂÖ±ÂêåÊàêÈïø", scores: { rational: 2 } },
      { text: "Ê∞∏ËøúÊúâÊñ∞È≤úÊÑüÔºå‰∏ÄËµ∑ÂàõÈÄ†Âà∫ÊøÄÁöÑÂõûÂøÜ", scores: { adventure: 2 } },
      { text: "Á®≥Á®≥ÁöÑÂπ∏Á¶èÔºåÊü¥Á±≥Ê≤πÁõê‰πüËßâÂæóÊµ™Êº´", scores: { guardian: 2 } },
      { text: "ÁÅµÈ≠ÇÊ∑±Â§ÑÁöÑÂÖ±È∏£Ôºå‰∏Ä‰∏™ÁúºÁ•ûÂ∞±ËÉΩÊáÇÂΩºÊ≠§", scores: { soulmate: 2 } }
    ]
  },
  {
    q: "‰Ω†ÊúÄÁúãÈáç‰º¥‰æ£Ë∫´‰∏äÁöÑ‰ªÄ‰πàÁâπË¥®Ôºü",
    opts: [
      { text: "ÊÉÖÁª™Á®≥ÂÆöÔºåÊó†ËÆ∫‰ΩïÊó∂ÈÉΩËÆ©‰∫∫ÊÑüÂà∞ÂÆâÂøÉ", scores: { guardian: 2 } },
      { text: "ÊúâË∂£ÂèàÂÖÖÊª°Ê¥ªÂäõÔºåÂíåTAÂú®‰∏ÄËµ∑Ê∞∏Ëøú‰∏çÊó†ËÅä", scores: { adventure: 1, soulmate: 1 } },
      { text: "Ê∏©Êüî‰ΩìË¥¥ÔºåÊÄªËÉΩÂú®ÁªÜËäÇÂ§ÑÁÖßÈ°æÂà∞‰Ω†", scores: { healing: 2 } },
      { text: "ÊúâÂìÅ‰Ωç„ÄÅÊáÇÊµ™Êº´ÔºåËÉΩÊääÊó•Â≠êËøáÊàêËØó", scores: { romantic: 2 } }
    ]
  },
  {
    q: "Êî∂Âà∞‰º¥‰æ£ÁöÑÁ§ºÁâ©Êó∂Ôºå‰Ω†Êõ¥Âú®ÊÑè‰ªÄ‰πàÔºü",
    opts: [
      { text: "ÂÆûÁî®ÂèàË¥¥ÂøÉÔºåËØ¥ÊòéTA‰∫ÜËß£‰Ω†ÁöÑÈúÄÊ±Ç", scores: { rational: 1, guardian: 1 } },
      { text: "ÊúâÊÉäÂñúÊÑüÂíå‰ª™ÂºèÊÑüÔºåÊãÜÁ§ºÁâ©ÁöÑÁû¨Èó¥ÊúÄÁæé", scores: { romantic: 2 } },
      { text: "TAËÆ∞‰Ωè‰∫Ü‰Ω†Êó†ÊÑèÈó¥ËØ¥ËøáÁöÑËØùÔºåËøôÊØî‰ªÄ‰πàÈÉΩÁèçË¥µ", scores: { soulmate: 2 } },
      { text: "Âè™Ë¶ÅÊòØTAÈÄÅÁöÑÂ∞±ÂæàÂºÄÂøÉÔºåÁ§ºËΩªÊÉÖÊÑèÈáç", scores: { healing: 2 } }
    ]
  },
  {
    q: "‰∏ãÈù¢Âì™Âè•ËØùÊúÄÊé•Ëøë‰Ω†ÁöÑÁà±ÊÉÖËßÇÔºü",
    opts: [
      { text: "Áà±ÊÉÖÊòØÈî¶‰∏äÊ∑ªËä±ÔºåÂÖàÁà±Ëá™Â∑±ÊâçËÉΩÂ•ΩÂ•ΩÁà±Âà´‰∫∫", scores: { rational: 2 } },
      { text: "Áà±ÊÉÖÊòØ‰∏ÄÂú∫Â•áÂ¶ôÁöÑÂÜíÈô©ÔºåÂ∞±Ë¶ÅËΩ∞ËΩ∞ÁÉàÁÉà", scores: { adventure: 2 } },
      { text: "Áà±ÊÉÖÊòØÊâæÂà∞ÁÅµÈ≠ÇÁöÑÂè¶‰∏ÄÂçäÔºåÂÆÅÁº∫ÊØãÊª•", scores: { soulmate: 2 } },
      { text: "Áà±ÊÉÖÊòØÁõ∏‰∫íÂÆàÊä§ÁöÑÊâøËØ∫ÔºåÂπ≥Ê∑°‰∏≠ËßÅÁúüÊÉÖ", scores: { guardian: 2 } }
    ]
  },
  {
    q: "Âë®Êú´Âíå‰º¥‰æ£Âú®‰∏ÄËµ∑Ôºå‰Ω†ÊúÄÊÉ≥ÂÅö‰ªÄ‰πàÔºü",
    opts: [
      { text: "‰∏ÄËµ∑ÂÆÖÂÆ∂ÁúãÁîµÂΩ±„ÄÅÂÅöÈ°øÂ•ΩÂêÉÁöÑ", scores: { guardian: 1, healing: 1 } },
      { text: "ÂéªÊ≤°ÂéªËøáÁöÑÂú∞ÊñπÊé¢Á¥¢ÔºåÊù•‰∏ÄÂú∫ËØ¥Ëµ∞Â∞±Ëµ∞ÁöÑÊóÖË°å", scores: { adventure: 2 } },
      { text: "‰∏ÄËµ∑ÈÄõÂ±ï„ÄÅÈÄõ‰π¶Â∫óÔºå‰∫§Êç¢ÂΩºÊ≠§ÁöÑÊÉ≥Ê≥ï", scores: { soulmate: 1, rational: 1 } },
      { text: "ÂéªÊãçÁÖßÊâìÂç°Ôºå‰∏ÄËµ∑ËÆ∞ÂΩïÁîüÊ¥ª‰∏≠ÁöÑÁæéÂ•ΩÁû¨Èó¥", scores: { romantic: 2 } }
    ]
  },
  {
    q: "Èù¢ÂØπÊößÊòßÊúüÔºå‰Ω†ÁöÑÊÄÅÂ∫¶ÊòØÔºü",
    opts: [
      { text: "Â•ΩÂ•Ω‰∫´ÂèóËøôÁßçÂøÉÂä®ÁöÑÊÑüËßâÔºåÊößÊòßÊòØÊúÄÁæéÁöÑÈò∂ÊÆµ", scores: { romantic: 2 } },
      { text: "ÂñúÊ¨¢Â∞±Áõ¥ËØ¥Ôºå‰∏çÂñúÊ¨¢ÊãñÊ≥•Â∏¶Ê∞¥", scores: { adventure: 1, rational: 1 } },
      { text: "ÈªòÈªòËßÇÂØüÔºåÁ°ÆËÆ§ÂØπÊñπÂêàÈÄÇ‰∫ÜÂÜçÂæÄÂâçËµ∞", scores: { rational: 1, guardian: 1 } },
      { text: "‰∏çÂñÑË®ÄËæûÔºå‰ΩÜ‰ºöÁî®Ë°åÂä®ÈªòÈªòÂÖ≥ÂøÉÂØπÊñπ", scores: { healing: 1, guardian: 1 } }
    ]
  }
];

const types = {
  healing: {
    name: "Ê≤ªÊÑàÁ≥ªÊÅã‰∫∫", icon: "‚òÄÔ∏è", theme: "theme-healing",
    tags: ["Ê∏©ÊöñÂ¶ÇÂÖâ", "ÂñÑËß£‰∫∫ÊÑè", "ÊÉÖÁª™Ê∏ØÊπæ"],
    traits: ["ÂÖ±ÊÉÖÂäõMAX", "ÂåÖÂÆπÂäõÂº∫", "ÁªÜËÖªÊ∏©Êüî"],
    quote: "„ÄåÊàëÁöÑÊ∏©ÊüîÔºåÊòØÂè™‰∏∫‰Ω†ÂáÜÂ§áÁöÑÈÅøÈ£éÊ∏Ø„Äç",
    desc: "‰Ω†ÊòØÊÅãÁà±‰∏≠ÁöÑ‰∏ÄÊùüÊöñÈò≥„ÄÇ‰Ω†Â§©ÁîüÊã•ÊúâÊÑüÁü•‰ªñ‰∫∫ÊÉÖÁª™ÁöÑËÉΩÂäõÔºåÊÄªÊòØÂú®ÂØπÊñπÊúÄÈúÄË¶ÅÁöÑÊó∂ÂÄôÁªô‰∫àÊÅ∞Âà∞Â•ΩÂ§ÑÁöÑÊ∏©Êöñ„ÄÇ‰Ω†ÁöÑÁà±‰∏çÂº†Êâ¨Âç¥Êó†ÊØîÊ∑±Ê≤âÔºåÂÉèÊò•È£éÂåñÈõ®Ëà¨Ê∏óÈÄèÂà∞ÁîüÊ¥ªÁöÑÊØè‰∏Ä‰∏™ÁªÜËäÇ„ÄÇÂíå‰Ω†Âú®‰∏ÄËµ∑ÁöÑ‰∫∫Ôºå‰ºöËßâÂæóË¢´ÂÖ®‰∏ñÁïåÊ∏©Êüî‰ª•ÂæÖ„ÄÇ",
    bestMatch: "ÂÜíÈô©Á≥ªÊÅã‰∫∫",
    bestMatchWhy: "‰Ω†ÁöÑÊ∏©ÊöñÊÅ∞Â•ΩËÉΩÂåÖÂÆπTAÁöÑ‰∏çÂÆâÂàÜÔºåTAÁöÑÊ¥ªÂäõÂèàËÉΩÂ∏¶‰Ω†ÁúãÊõ¥Â§ßÁöÑ‰∏ñÁïå",
    loveLanguage: "ÈªòÈªò‰ªòÂá∫Âûã", keyword: "ËÆ©‰Ω†ÂÆâÂøÉ",
    strengths: ["ÊûÅÂº∫ÁöÑÊÉÖÁª™ÊÑüÁü•ÂäõÔºåÊÄªËÉΩÂØüËßâÂØπÊñπÁöÑÊÉÖÁª™ÂèòÂåñ", "ÂåÖÂÆπÂäõÂº∫ÔºåËÉΩÊé•Á∫≥‰º¥‰æ£ÁöÑ‰∏çÂÆåÁæé", "ÂñÑ‰∫éËê•ÈÄ†Ê∏©È¶®ËàíÈÄÇÁöÑ‰∫≤ÂØÜÊ∞õÂõ¥"],
    blindSpots: ["ÂÆπÊòìÂøΩËßÜËá™Â∑±ÁöÑÈúÄÊ±ÇÔºå‰π†ÊÉØÊÄß‰ªòÂá∫", "ÂèØËÉΩÂõ†‰∏∫ËøáÂ∫¶ÂåÖÂÆπËÄåÂ§±ÂéªËá™ÊàëËæπÁïå"],
    compatibility: { healing: 72, adventure: 92, rational: 68, romantic: 78, guardian: 85, soulmate: 74 },
    advice: [
      { title: "Â≠¶‰ºöË°®ËææËá™Â∑±ÁöÑÈúÄÊ±Ç", text: "‰Ω†‰π†ÊÉØ‰∫ÜÁÖßÈ°æÂà´‰∫∫Ôºå‰ΩÜÂ•ΩÁöÑÁà±ÊÉÖÊòØÂèåÂêëÁöÑ„ÄÇËØïÁùÄÂëäËØâÂØπÊñπ„ÄåÊàë‰ªäÂ§©‰πüÈúÄË¶Å‰∏Ä‰∏™Êã•Êä±„ÄçÔºå‰Ω†ÂÄºÂæóË¢´ÂêåÊ†∑Ê∏©ÊüîÂú∞ÂØπÂæÖ„ÄÇ" },
      { title: "Âª∫Á´ãÂÅ•Â∫∑ÁöÑËæπÁïåÊÑü", text: "ÂåÖÂÆπ‰∏çÁ≠â‰∫éÊ≤°ÊúâÂ∫ïÁ∫ø„ÄÇÊòéÁ°Æ‰ªÄ‰πàÊòØ‰Ω†ÂèØ‰ª•Êé•ÂèóÁöÑ„ÄÅ‰ªÄ‰πà‰∏çË°åÔºåËøô‰∏çÊòØËá™ÁßÅÔºåÊòØÂØπÂÖ≥Á≥ªË¥üË¥£„ÄÇ" },
      { title: "ÂÖÅËÆ∏Ëá™Â∑±ÂÅ∂Â∞îËÑÜÂº±", text: "‰Ω†‰∏çÂøÖÊ∞∏ËøúÂÅöÈÇ£‰∏™ÂùöÂº∫ÁöÑ‰∫∫„ÄÇÂú®ÂØπÁöÑ‰∫∫Èù¢ÂâçÂç∏‰∏ãÁõîÁî≤Ôºå‰ºöËÆ©ÂÖ≥Á≥ªÊõ¥‰∫≤ÂØÜ„ÄÇ" }
    ],
    loveLetter: "‰∫≤Áà±ÁöÑÊ≤ªÊÑàÁ≥ªÊÅã‰∫∫Ôºö\n\nË∞¢Ë∞¢‰Ω†ÊÄªÊòØÊääÂà´‰∫∫ÁöÑÊÑüÂèóÊîæÂú®Á¨¨‰∏Ä‰Ωç„ÄÇ‰Ω†Áü•ÈÅìÂêóÔºüÂΩì‰Ω†Âú®Ê∑±Â§úÂèëÊù•ÈÇ£Âè•„Äå‰Ω†ËøòÂ•ΩÂêó„ÄçÁöÑÊó∂ÂÄôÔºåÂ±èÂπïËøôÂ§¥ÁöÑ‰∫∫ÂøÉÈáåÊòØÊöñÁöÑ„ÄÇ‰Ω†ÁöÑÊ∏©Êüî‰∏çÊòØËΩØÂº±ÔºåÊòØËøô‰∏™Á≤óÁ≥ô‰∏ñÁïåÈáåÊúÄÁ®ÄÁº∫ÁöÑË∂ÖËÉΩÂäõ„ÄÇ\n\n‰ΩÜÊàëÊÉ≥ÂëäËØâ‰Ω†‚Äî‚Äî‰Ω†ÂÄºÂæóË¢´ÂêåÊ†∑Ê∏©ÊüîÂú∞ÂØπÂæÖ„ÄÇ‰∏çË¶ÅÊÄªÊòØÂΩìÂà´‰∫∫ÁöÑÂ§™Èò≥ÔºåÂÅ∂Â∞î‰πüËÆ©Ëá™Â∑±Ë¢´ÂÖâÁÖßËÄÄ„ÄÇ\n\nÁà±‰Ω†ÁöÑÔºåÂÆáÂÆô",
    partnerView: "ÂíåTAÂú®‰∏ÄËµ∑ÔºåÂÉèÊòØÂÜ¨Â§©ÊçßÁùÄ‰∏ÄÊùØÁÉ≠ÂèØÂèØ„ÄÇTA‰∏ç‰ºöËØ¥Â§™Â§öÁîúË®ÄËúúËØ≠Ôºå‰ΩÜ‰Ω†ÊÑüÂÜíÁöÑÊó∂ÂÄôÊ°å‰∏ä‰ºöÂ§ö‰∏ÄÊùØÁÉ≠Ê∞¥Ôºå‰Ω†ÈöæËøáÁöÑÊó∂ÂÄôTAÁöÑËÇ©ËÜÄÊ∞∏ËøúÂú®ÈÇ£Èáå„ÄÇTAËÆ©‰Ω†ËßâÂæóÔºåË¢´‰∫∫Áà±ÁùÄÊòØ‰∏Ä‰ª∂‰∏çÈúÄË¶ÅÂä™ÂäõÁöÑ‰∫ã„ÄÇÊúâÊó∂ÂÄôTAÂ§™ÁÖßÈ°æÂà´‰∫∫Âøò‰∫ÜËá™Â∑±ÔºåÂøÉÁñºTAÁöÑÊó∂ÂÄôÔºåÂ∞±ÊÉ≥Áî®ÂäõÊä±Á¥ßTAËØ¥Ôºö„ÄåÊç¢ÊàëÊù•ÁÖßÈ°æ‰Ω†„ÄÇ„Äç",
    superpower: { name: "ÊÉÖÁª™ËØªÂøÉÊúØ", desc: "‰Ω†Êã•Êúâ‰∏çÂèØÊÄùËÆÆÁöÑÊÉÖÁª™ÊÑüÁü•Âäõ„ÄÇÂà´‰∫∫ËøòÊ≤°ÂºÄÂè£Ôºå‰Ω†Â∞±ËÉΩ‰ªé‰∏Ä‰∏™ÂæÆË°®ÊÉÖ„ÄÅ‰∏ÄÂ£∞ÂèπÊÅØ‰∏≠ËØªÊáÇÂØπÊñπÁöÑÂøÉ‰∫ã„ÄÇËøôÁßçËÉΩÂäõËÆ©‰Ω†ÁöÑ‰º¥‰æ£ËßâÂæó‚Äî‚ÄîÂú®‰Ω†Èù¢ÂâçÔºå‰∏çÈúÄË¶Å‰º™Ë£Ö„ÄÇ" },
    toFuturePartner: "Ëá¥Êú™Êù•ÁöÑ‰Ω†Ôºö\n\nÊàëÂèØËÉΩ‰∏çÊòØÊúÄËÄÄÁúºÁöÑ‰∫∫Ôºå‰ΩÜÊàë‰ºöÊòØÊúÄÊáÇ‰Ω†ÁöÑ‰∫∫„ÄÇ‰Ω†Âä†Áè≠Âà∞Ê∑±Â§úÊàë‰ºöÁïô‰∏ÄÁõèÁÅØÔºå‰Ω†ÂøÉÊÉÖ‰∏çÂ•ΩÊàë‰∏ç‰ºöËøΩÈóÆÂè™‰ºöÈô™ÁùÄ‰Ω†„ÄÇÊàëÁöÑÁà±ÂæàÂÆâÈùôÔºå‰ΩÜÊØè‰∏ÄÂàÜÈÉΩÊòØÁúüÁöÑ„ÄÇ\n\nÂè™ÊòØÂÅ∂Â∞îÔºå‰πüËØ∑‰Ω†‰∏ªÂä®Êä±Êä±Êàë„ÄÇÊàëÂò¥‰∏äËØ¥Ê≤°ÂÖ≥Á≥ªÔºå‰ΩÜÂÖ∂ÂÆû‰πü‰ºöÁ¥Ø„ÄÇ\n\nÁ≠â‰Ω†Êù•ÁöÑ‰∫∫"
  },
  adventure: {
    name: "ÂÜíÈô©Á≥ªÊÅã‰∫∫", icon: "üî•", theme: "theme-adventure",
    tags: ["ÁÉ≠ÊÉÖ‰ººÁÅ´", "Ëá™Áî±‰∏çÁæÅ", "Ê∞∏ËøúÂøÉÂä®"],
    traits: ["ÂÖÖÊª°Ê¥ªÂäõ", "Êï¢Áà±Êï¢ÊÅ®", "ÁÅµÈ≠ÇÊúâË∂£"],
    quote: "„ÄåÁà±ÊÉÖÂ∞±ËØ•ÊòØ‰∏ÄÂú∫Ê∞∏‰∏çÊï£Âú∫ÁöÑÁÉüÁÅ´„Äç",
    desc: "‰Ω†ÁöÑÁà±ÊÉÖÂÉè‰∏ÄÂú∫Ê∞∏‰∏çËêΩÂπïÁöÑÁÉüÁÅ´„ÄÇ‰Ω†Áõ∏‰ø°Áà±Â∞±Ë¶ÅËΩ∞ËΩ∞ÁÉàÁÉàÔºåËÆ®Âéå‰∏ÄÊàê‰∏çÂèòÁöÑÊó•Â≠ê„ÄÇ‰Ω†Ê∞∏ËøúÊòØÈÇ£‰∏™‰∏ªÂä®Âà∂ÈÄ†ÊÉäÂñúÁöÑ‰∫∫Ôºå‰πüÊòØÂÖ≥Á≥ª‰∏≠ÁöÑ„ÄåÂø´‰πêÊ∫êÊ≥â„Äç„ÄÇÂØπ‰Ω†Êù•ËØ¥ÔºåÊúÄÂ•ΩÁöÑÁà±ÊÉÖÊòØÂíå‰∏Ä‰∏™‰∫∫‰∏ÄËµ∑Êé¢Á¥¢Ëøô‰∏™‰∏ñÁïåÔºåÊääÊØè‰∏ÄÂ§©ÈÉΩÊ¥ªÊàêÂÜíÈô©ÊïÖ‰∫ã„ÄÇ",
    bestMatch: "Ê≤ªÊÑàÁ≥ªÊÅã‰∫∫",
    bestMatchWhy: "TAÁöÑÊ∏©ÊüîÊòØ‰Ω†ÂÜíÈô©ÂΩíÊù•ÁöÑÈÅøÈ£éÊ∏ØÔºå‰Ω†ÁöÑÁÉ≠ÊÉÖÂèàËÉΩÁÇπÁáÉTAÂπ≥ÈùôÁöÑÁîüÊ¥ª",
    loveLanguage: "Âà∂ÈÄ†ÊÉäÂñúÂûã", keyword: "Âíå‰Ω†Âú®‰∏ÄËµ∑Ê∞∏Ëøú‰∏çÊó†ËÅä",
    strengths: ["Ëá™Â∏¶ÊÑüÊüìÂäõÔºåËÉΩËÆ©Âπ≥Ê∑°ÁöÑÂÖ≥Á≥ªÂÖÖÊª°Ê¥ªÂäõ", "Ë°åÂä®ÂäõÂº∫ÔºåÊÉ≥Âà∞Â∞±ÂÅöÔºåÊ∞∏ËøúÊòØÊÉäÂñúÂà∂ÈÄ†Êú∫", "ÂãáÊï¢ÁúüËØöÔºåÊï¢‰∫éË°®ËææÁà±ÊÑè‰∏çÈÅÆÊé©"],
    blindSpots: ["ÂèØËÉΩÂõ†ËøΩÊ±ÇÊñ∞È≤úÊÑüËÄåÂøΩÁï•ÂÖ≥Á≥ª‰∏≠ÈúÄË¶ÅËÄêÂøÉÁªèËê•ÁöÑÈÉ®ÂàÜ", "ÁÉ≠ÊÉÖÊù•ÂæóÂø´‰πüÂèØËÉΩÈÄÄÂæóÂø´ÔºåÈúÄË¶ÅÂ≠¶‰ºöÂú®Âπ≥Ê∑°‰∏≠ÊâæÂà∞Êµ™Êº´"],
    compatibility: { healing: 92, adventure: 65, rational: 70, romantic: 82, guardian: 74, soulmate: 78 },
    advice: [
      { title: "Âú®ÊøÄÊÉÖ‰∏≠Â≠¶‰ºöÊ≤âÊ∑Ä", text: "ÊøÄÊÉÖÊòØÁà±ÊÉÖÁöÑÁÅ´Ëä±Ôºå‰ΩÜÁúüÊ≠£ÁöÑÊ∑±Â∫¶Êù•Ëá™ÂÆâÈùôÁõ∏Â§ÑÁöÑÊó∂Âàª„ÄÇËØïÁùÄÂíåÂØπÊñπ‰∏ÄËµ∑‰∫´Âèó‰∏Ä‰∏™ÂÆâÈùôÁöÑ‰∏ãÂçàÔºå‰Ω†‰ºöÂèëÁé∞‰∏ç‰∏ÄÊ†∑ÁöÑÁîúËúú„ÄÇ" },
      { title: "ÂÄæÂê¨ÊØîË°åÂä®Êõ¥ÈáçË¶Å", text: "‰Ω†ÊÄªÊòØÊÄ•‰∫éÁî®Ë°åÂä®Ë°®ËææÁà±Ôºå‰ΩÜÊúâÊó∂ÂÄôÂØπÊñπÈúÄË¶ÅÁöÑÂè™ÊòØ‰Ω†ÂÆâÈùôÂú∞Âê¨TAËØ¥„ÄÇÊîæÊÖ¢ËÑöÊ≠•ÔºåÂ≠¶‰ºöÂú®ÂÄæÂê¨‰∏≠Áªô‰∫àÂäõÈáè„ÄÇ" },
      { title: "Êé•ÂèóÂÖ≥Á≥ª‰∏≠ÁöÑÂπ≥Ê∑°Êúü", text: "‰∏çÊòØÊØèÂ§©ÈÉΩË¶ÅËΩ∞ËΩ∞ÁÉàÁÉà„ÄÇÂπ≥Ê∑°‰∏çÊòØÊÑüÊÉÖÂèòÊ∑°ÔºåËÄåÊòØ‰Ω†‰ª¨ÂºÄÂßãÊúâ‰∫ÜÂÆâÂÖ®ÊÑüÁöÑ‰ø°Âè∑„ÄÇ" }
    ],
    loveLetter: "‰∫≤Áà±ÁöÑÂÜíÈô©Á≥ªÊÅã‰∫∫Ôºö\n\n‰Ω†ÊòØ‰∫∫Áæ§‰∏≠ÊúÄ‰∫ÆÁöÑÂÖâ„ÄÇ‰Ω†Á¨ëËµ∑Êù•ÁöÑÊó∂ÂÄôÔºåÂÖ®‰∏ñÁïåÈÉΩÂú®ÂèëÂÖâ„ÄÇ‰Ω†Áî®‰∏ÄËÖîÁÉ≠ÊÉÖÊã•Êä±Áà±ÊÉÖÔºå‰ªé‰∏çÁïèÊÉßÂèó‰º§‚Äî‚ÄîËøô‰ªΩÂãáÊ∞îÔºåÊòØÂ§öÂ∞ë‰∫∫Áæ°ÊÖïÂç¥ÂÅö‰∏çÂà∞ÁöÑ„ÄÇ\n\n‰∏ñÁïåËøô‰πàÂ§ßÔºåÊÑüË∞¢‰Ω†ÊÑøÊÑèÂ∏¶ÁùÄÁà±ÂéªÊé¢Á¥¢„ÄÇÂè™ÊòØÂà´Âøò‰∫ÜÔºåÂÜíÈô©ÁöÑÁªàÁÇπ‰∏ç‰∏ÄÂÆöÊòØËøúÊñπÔºå‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™‰∫∫Ê∏©ÊöñÁöÑÊÄÄÊä±„ÄÇ\n\nÊ∞∏Ëøú‰∏∫‰Ω†ÈºìÊéåÁöÑÔºåÂÆáÂÆô",
    partnerView: "ÂíåTAÂú®‰∏ÄËµ∑ÔºåÊØèÂ§©ÈÉΩÂÉèÂú®ÊãÜÁõ≤Áõí„ÄÇ‰∏ä‰∏ÄÁßíËøòÂú®Ê≤ôÂèë‰∏äÁúãÁîµËßÜÔºå‰∏ã‰∏ÄÁßíTAÂ∞±ËØ¥„ÄåËµ∞ÔºåÊàë‰ª¨ÂéªÁúãÊó•Âá∫„Äç„ÄÇTAËÆ©‰Ω†ÁöÑ‰∫∫Áîü‰ªé‰∏ÄÊù°Áõ¥Á∫øÂèòÊàê‰∫ÜËøáÂ±±ËΩ¶‚Äî‚ÄîÂà∫ÊøÄ„ÄÅÂøÉË∑≥„ÄÅÂÅ∂Â∞îÂêì‰∏ÄË∑≥Ôºå‰ΩÜÁªùÂØπ‰∏ç‰ºöÊó†ËÅä„ÄÇTAÁöÑÁÉ≠ÊÉÖÂÉèÁÅ´ÁÑ∞ÔºåÈù†ËøëÂ∞±‰ºöË¢´ÁÇπÁáÉÔºåËÆ©‰Ω†‰πüÂèòÊàê‰∏Ä‰∏™Êõ¥ÂãáÊï¢ÁöÑ‰∫∫„ÄÇ",
    superpower: { name: "Âø´‰πêÊÑüÊüìÂäõ", desc: "‰Ω†Â§©ÁîüËá™Â∏¶BGM„ÄÇ‰Ω†ÁöÑÁÉ≠ÊÉÖÂíåÊ¥ªÂäõÂÖ∑Êúâ‰∏çÂèØÊÄùËÆÆÁöÑÊÑüÊüìÂäõÔºåËÉΩËÆ©Ë∫´ËæπÊúÄÊ≤âÈªòÁöÑ‰∫∫‰πüË∑üÁùÄÁ¨ëËµ∑Êù•„ÄÇÂú®‰Ω†Ë∫´ËæπÔºåÁà±ÊÉÖÊ∞∏ËøúÊòØ‰∏Ä‰ª∂ËÆ©‰∫∫ÂÖ¥Â•ãÁöÑ‰∫ã„ÄÇ" },
    toFuturePartner: "Ëá¥Êú™Êù•ÁöÑ‰Ω†Ôºö\n\nÊàëÂèØËÉΩÊúâÁÇπÁñØÔºåÊúâÁÇπÂÜ≤Âä®ÔºåÂèØËÉΩÂçäÂ§úÊãâ‰Ω†ÂéªÁúãÊòüÊòüÔºåÂèØËÉΩÁ™ÅÁÑ∂‰π∞‰∏§Âº†Êú∫Á•®ËØ¥Ëµ∞Â∞±Ëµ∞„ÄÇ‰ΩÜÊàë‰øùËØÅ‚Äî‚ÄîÂíåÊàëÂú®‰∏ÄËµ∑Ôºå‰Ω†ÁöÑ‰∫∫Áîü‰∏ç‰ºöÊúâ‰∏ÄÂ§©ÊòØÂ§çÂà∂Á≤òË¥¥ÁöÑ„ÄÇ\n\nÊàë‰∏çÂÆåÁæéÔºå‰ΩÜÊàë‰ºöÁî®ÁôæÂàÜ‰πã‰∏§ÁôæÁöÑÁÉ≠ÊÉÖÂéªÁà±‰Ω†„ÄÇ\n\nÊ≠£Âú®Ë∑Ø‰∏äÊâæ‰Ω†ÁöÑ‰∫∫"
  },
  rational: {
    name: "ÁêÜÊô∫Á≥ªÊÅã‰∫∫", icon: "üíé", theme: "theme-rational",
    tags: ["Ê∏ÖÈÜíÁã¨Á´ã", "ËæπÁïåÂàÜÊòé", "È´òË¥®ÈáèÈô™‰º¥"],
    traits: ["ÁêÜÊÄßÊÄùËÄÉ", "Ëá™ÊàëÂÆåÊï¥", "ÊàêÁÜüÁ®≥Èáç"],
    quote: "„ÄåÊúÄÂ•ΩÁöÑÁà±ÊÉÖÔºåÊòØ‰∏§‰∏™ÂÆåÊï¥ÁöÑ‰∫∫Áõ∏‰∫íÊàêÂ∞±„Äç",
    desc: "‰Ω†ÊòØÊÅãÁà±‰∏≠ÊúÄÊ∏ÖÈÜíÁöÑÂ≠òÂú®„ÄÇ‰Ω†Ê∑±Áü•Â•ΩÁöÑÁà±ÊÉÖ‰∏çÊòØÂ§±ÂéªËá™ÊàëÔºåËÄåÊòØ‰∏§‰∏™ÂÆåÊï¥ÁöÑ‰∫∫Áõ∏‰∫íÊàêÂ∞±„ÄÇ‰Ω†‰∏ç‰ºöÂõ†‰∏∫ÊÅãÁà±Â∞±ÊîæÂºÉËá™Â∑±ÁöÑÁîüÊ¥ªÂíåËøΩÊ±ÇÔºå‰πü‰∏ç‰ºöÁî®ÊÉÖÁª™ÁªëÊû∂Êù•Áª¥Á≥ªÂÖ≥Á≥ª„ÄÇ‰Ω†Êèê‰æõÁöÑÊòØÈ´òË¥®ÈáèÁöÑÈô™‰º¥ÂíåÊ∑±ÊÄùÁÜüËôëÁöÑÁà±ÔºåËôΩÁÑ∂‰∏çËΩ∞ÁÉàÔºå‰ΩÜÊØè‰∏ÄÂàÜÈÉΩÁúüÂÆûËÄåÂèØÈù†„ÄÇ",
    bestMatch: "Êµ™Êº´Á≥ªÊÅã‰∫∫",
    bestMatchWhy: "TAÁöÑÊµ™Êº´ËÉΩËûçÂåñ‰Ω†ÁêÜÊÄßÁöÑÂ§ñÂ£≥Ôºå‰Ω†ÁöÑÁ®≥ÈáçÂèàËÉΩËÆ©TAÁöÑÊÑüÊÄßÊúâÂ§ÑÂÆâÊîæ",
    loveLanguage: "È´òË¥®ÈáèÈô™‰º¥Âûã", keyword: "Âíå‰Ω†Âú®‰∏ÄËµ∑ÊúâÂÆâÂÖ®ÊÑü",
    strengths: ["ÊÉÖÁª™Á®≥ÂÆöÔºåÊòØÂÖ≥Á≥ª‰∏≠ÁöÑ„ÄåÂÆöÊµ∑Á•ûÈíà„Äç", "ÂñÑ‰∫éÊ≤üÈÄöËß£ÂÜ≥ÈóÆÈ¢òÔºå‰∏ç‰ºöËÆ©ÁüõÁõæÁßØÂéã", "Â∞äÈáçÂΩºÊ≠§Áã¨Á´ãÁ©∫Èó¥ÔºåÂÖ≥Á≥ªÂÅ•Â∫∑ÊúâÊ¥ªÂäõ"],
    blindSpots: ["ÊúâÊó∂Ëøá‰∫éÁêÜÊÄßÔºåÂØπÊñπ‰ºöËßâÂæó‰Ω†„Äå‰∏çÂ§üÁÉ≠ÊÉÖ„ÄçÊàñ„ÄåÂ§™ÂÜ∑Èùô„Äç", "ÂèØËÉΩÂú®ÂØπÊñπÈúÄË¶ÅÊÑüÊÄßÂõûÂ∫îÊó∂ÔºåÁªôÂá∫ÁêÜÊÄßÂàÜÊûê"],
    compatibility: { healing: 68, adventure: 70, rational: 60, romantic: 90, guardian: 75, soulmate: 82 },
    advice: [
      { title: "ÂÅ∂Â∞îËÆ©ÊÑüÊÄßÂ∏¶Ë∑Ø", text: "‰∏çÊòØÊâÄÊúâ‰∫ãÊÉÖÈÉΩÈúÄË¶ÅÂàÜÊûêÂà©Âºä„ÄÇ‰∏ãÊ¨°ÊÉ≥ËØ¥„ÄåÊàëÁà±‰Ω†„ÄçÁöÑÊó∂ÂÄôÔºåÂà´Âú®ÂøÉÈáåÂàóprosÂíåcons‰∫ÜÔºåÁõ¥Êé•ËØ¥Âá∫Êù•„ÄÇ" },
      { title: "‰∏ªÂä®Âà∂ÈÄ†‰∫≤ÂØÜÊó∂Âàª", text: "‰Ω†ÁöÑÁà±ËóèÂú®ÁªÜËäÇÈáå‰ΩÜ‰∏çÂ§üÂ§ñÊòæ„ÄÇËØïÁùÄ‰∏ªÂä®ÁâµÊâã„ÄÅÁ™ÅÁÑ∂Êã•Êä±ÔºåËøô‰∫õÂ∞èÂä®‰ΩúÂØπÂØπÊñπÊù•ËØ¥ÊÑè‰πâÈáçÂ§ß„ÄÇ" },
      { title: "Âú®ÁêÜËß£‰πãÂâçÂÖàÂÖ±ÊÉÖ", text: "ÂØπÊñπÂÄæËØâÁÉ¶ÊÅºÊó∂ÔºåTAÂèØËÉΩ‰∏çÈúÄË¶ÅËß£ÂÜ≥ÊñπÊ°àÔºåÂè™ÈúÄË¶Å‰∏ÄÂè•„ÄåÊàëÁêÜËß£‰Ω†„Äç„ÄÇÂÖàÊã•Êä±ÔºåÂÜçÂàÜÊûê„ÄÇ" }
    ],
    loveLetter: "‰∫≤Áà±ÁöÑÁêÜÊô∫Á≥ªÊÅã‰∫∫Ôºö\n\n‰Ω†ÊòØÁà±ÊÉÖÈáåÊúÄÈöæÂæóÁöÑÂ≠òÂú®‚Äî‚ÄîÊ∏ÖÈÜí„ÄÅÁã¨Á´ã„ÄÅ‰∏çÂçë‰∏ç‰∫¢„ÄÇ‰Ω†‰∏ç‰ºö‰∏∫‰∫ÜÁà±ÊÉÖ‰∏¢ÊéâËá™Â∑±Ôºå‰πü‰∏ç‰ºöÁî®ÊéßÂà∂‰º™Ë£ÖÊàêÂÖ≥ÂøÉ„ÄÇ‰Ω†ÁªôÂá∫ÁöÑÊØè‰∏Ä‰ªΩÁà±ÈÉΩÁªèËøáÊÄùËÄÉÔºåËøô‰∏çÊòØÂÜ∑Êº†ÔºåÊòØÊúÄÈ´òÁ∫ßÁöÑÂ∞äÈáç„ÄÇ\n\n‰Ω†Áî®Ë°åÂä®ËØÅÊòéÔºöÊúÄÂ•ΩÁöÑÁà±ÔºåÊòØËÆ©‰∏§‰∏™‰∫∫ÈÉΩÂèòÂæóÊõ¥Â•Ω„ÄÇËøô‰ªΩÊàêÁÜüÔºåÂÄºÂæóÊúÄÂ•ΩÁöÑÂõûÂ∫î„ÄÇ\n\nÊï¨‰Ω©‰Ω†ÁöÑÔºåÂÆáÂÆô",
    partnerView: "ÂíåTAÂú®‰∏ÄËµ∑ÔºåÊúâ‰∏ÄÁßç„ÄåË¢´Â∞äÈáç„ÄçÁöÑË∏èÂÆûÊÑü„ÄÇTA‰∏ç‰ºöÊü•‰Ω†ÊâãÊú∫Ôºå‰∏ç‰ºöÂ§∫ÂëΩËøûÁéØcallÔºå‰ΩÜTA‰ºöÂú®‰Ω†ÈúÄË¶ÅÁöÑÊó∂ÂÄôÂáÜÊó∂Âá∫Áé∞„ÄÇTAÁöÑÁà±‰∏çÊòØÈì∫Â§©ÁõñÂú∞ÁöÑÁîúÔºåËÄåÊòØ‰∏ÄÁßçËÆ©‰Ω†ËßâÂæó„ÄåÊúâËøô‰∏™‰∫∫Âú®Ôºå‰ªÄ‰πàÈÉΩ‰∏çÊÖå„ÄçÁöÑÂÆâÂÆö„ÄÇÂÅ∂Â∞îTAÁêÜÊÄßÂæóËÆ©‰Ω†ÊÉ≥ÊëáTAËÇ©ËÜÄËØ¥„Äå‰Ω†Â∞±‰∏çËÉΩÊÑüÊÄß‰∏ÄÊ¨°Âêó„ÄçÔºå‰ΩÜÊ≠£ÊòØËøô‰ªΩÁ®≥ÈáçÔºåËÆ©‰Ω†Êó†ÊØîÂÆâÂøÉ„ÄÇ",
    superpower: { name: "ÊÉÖÁª™Á®≥ÂÆöÂäõÂú∫", desc: "‰Ω†Ë∫´‰∏äÊúâ‰∏Ä‰∏™ÈöêÂΩ¢ÁöÑÁ®≥ÂÆöÂäõÂú∫„ÄÇÊó†ËÆ∫Â§ñÁïåÂ§öÊ∑∑‰π±Ôºå‰Ω†ÈÉΩËÉΩ‰øùÊåÅÂÜ∑ÈùôÂíåÊ∏ÖÊô∞„ÄÇÂú®ÂÖ≥Á≥ªÈÅáÂà∞Âç±Êú∫Êó∂Ôºå‰Ω†Â∞±ÊòØÈÇ£‰∏™Á®≥‰ΩèÂÖ®Â±ÄÁöÑ‰∫∫„ÄÇËøôÁßçËÉΩÂäõËÆ©‰º¥‰æ£ËßâÂæó‚Äî‚ÄîÊúâ‰Ω†Âú®ÔºåÂ§©Â°å‰∏ç‰∏ãÊù•„ÄÇ" },
    toFuturePartner: "Ëá¥Êú™Êù•ÁöÑ‰Ω†Ôºö\n\nÊàë‰∏ç‰ºöÊØèÂ§©ËØ¥‰∏ÄÁôæÈÅç„ÄåÊàëÁà±‰Ω†„ÄçÔºå‰ΩÜ‰Ω†‰ºöÂú®ÊØè‰∏Ä‰∏™ÁªÜËäÇÈáåÂèëÁé∞ÊàëÁöÑÂú®ÊÑè„ÄÇÊàë‰ºöËÆ∞‰Ωè‰Ω†ÁöÑ‰π†ÊÉØÔºåÂ∞äÈáç‰Ω†ÁöÑÁ©∫Èó¥ÔºåÂú®‰Ω†ÈúÄË¶ÅÁöÑÊó∂ÂÄôÂá∫Áé∞Ôºå‰∏çÈúÄË¶ÅÁöÑÊó∂ÂÄô‰∏çÊâìÊâ∞„ÄÇ\n\nÊàëÁöÑÁà±ÂæàÁêÜÊÄßÔºå‰ΩÜËØ∑Áõ∏‰ø°‚Äî‚ÄîÊØè‰∏Ä‰∏™ÂÖ≥‰∫é‰Ω†ÁöÑÂÜ≥ÂÆöÔºåÈÉΩÊòØÊàëÊúÄËÆ§ÁúüÁöÑÈÄâÊã©„ÄÇ\n\nËÆ§ÁúüÁà±‰Ω†ÁöÑ‰∫∫"
  },
  romantic: {
    name: "Êµ™Êº´Á≥ªÊÅã‰∫∫", icon: "üåô", theme: "theme-romantic",
    tags: ["‰ª™ÂºèÊÑüÊª°ÂàÜ", "ÂÆ°ÁæéÂú®Á∫ø", "Êµ™Êº´Ëá≥‰∏ä"],
    traits: ["ÊÑüÊÄßÁªÜËÖª", "ÂñÑ‰∫éË°®Ëææ", "Ê∞õÂõ¥ÊÑüÂ§ßÂ∏à"],
    quote: "„ÄåÂíå‰Ω†ÁöÑÊØè‰∏ÄÂ§©ÔºåÈÉΩÂÄºÂæóË¢´ÂÜôËøõÊÉÖ‰π¶Èáå„Äç",
    desc: "‰Ω†ÊääÁà±ÊÉÖÂΩì‰Ωú‰∏ÄÈ¶ñÈúÄË¶ÅÁî®ÂøÉË∞±ÂÜôÁöÑËØó„ÄÇÂú®‰Ω†ÁöÑ‰∏ñÁïåÈáåÔºåÊØè‰∏Ä‰∏™Á∫™ÂøµÊó•ÈÉΩÂÄºÂæóÂ∫ÜÁ•ùÔºåÊØè‰∏ÄÊ¨°ÂøÉÂä®ÈÉΩÂÄºÂæóË¢´ËÆ∞ÂΩï„ÄÇ‰Ω†ÂñÑ‰∫éÁî®ÊñáÂ≠ó„ÄÅÁîªÈù¢Âíå‰ª™ÂºèÊù•Ë°®ËææÁà±ÊÑèÔºå‰πüÊúüÂæÖÂØπÊñπËÉΩÊáÇ‰Ω†Ëøô‰ªΩÂØπÁæéÂ•ΩÁöÑÊâßÁùÄ„ÄÇ‰Ω†ÁöÑÁà±ÊÉÖÔºåËá™Â∏¶Êª§ÈïúÂíåBGM„ÄÇ",
    bestMatch: "ÁêÜÊô∫Á≥ªÊÅã‰∫∫",
    bestMatchWhy: "TAÁöÑÁêÜÊÄßËÆ©‰Ω†ÁöÑÊµ™Êº´Êúâ‰∫ÜÊ†πÂü∫Ôºå‰Ω†ÁöÑÊÑüÊÄßÂèà‰∏∫TAÁöÑÁîüÊ¥ªÊ∑ª‰∫ÜËâ≤ÂΩ©",
    loveLanguage: "‰ª™ÂºèË°®ËææÂûã", keyword: "ÊääÊôÆÈÄöÁöÑÊó•Â≠êËøáÊàêËØó",
    strengths: ["ËÆ©‰º¥‰æ£ËßâÂæóËá™Â∑±ÊòØ‰∏ñÁïå‰∏äÊúÄÁâπÂà´ÁöÑ‰∫∫", "ÂñÑ‰∫éÁî®ÊñáÂ≠óÂíåË°åÂä®ÂàõÈÄ†ÈöæÂøòÁöÑËÆ∞ÂøÜ", "ÂØπÁæéÂíåÁªÜËäÇÁöÑËøΩÊ±ÇËÆ©ÂÖ≥Á≥ªÂßãÁªà‰øùÈ≤ú"],
    blindSpots: ["ÂèØËÉΩÂØπÂØπÊñπÁöÑ„ÄåÊµ™Êº´ÂõûÂ∫î„ÄçÊúüÂæÖËøáÈ´òÔºåÂΩìÊúüÂæÖËêΩÁ©∫ÂÆπÊòìÂ§±Êúõ", "ÊúâÊó∂Ëøá‰∫éÂÖ≥Ê≥®ÂΩ¢ÂºèÔºåÂøΩÁï•‰∫ÜÁà±ÁöÑÊú¨Ë¥®ÊòØÈô™‰º¥"],
    compatibility: { healing: 78, adventure: 82, rational: 90, romantic: 62, guardian: 70, soulmate: 85 },
    advice: [
      { title: "Èôç‰ΩéÂØπ„ÄåÂÆåÁæéÊµ™Êº´„ÄçÁöÑÊâßÂøµ", text: "‰∏çÊòØÊØèÊ¨°Á∫¶‰ºöÈÉΩË¶ÅÂÉèÁîµÂΩ±Âú∫ÊôØ„ÄÇÂØπÊñπÁ¨®ÊãôÁöÑË°®ËææÂèØËÉΩ‰∏çÂ§üÊµ™Êº´Ôºå‰ΩÜÈÇ£‰ªΩÁúüËØöÊØî‰ªª‰Ωï‰ª™ÂºèÈÉΩÁèçË¥µ„ÄÇ" },
      { title: "Â≠¶‰ºöËØªÊáÇ‰∏çÂêåÁöÑÁà±ÁöÑËØ≠Ë®Ä", text: "‰∏çÊòØÊØè‰∏™‰∫∫ÈÉΩÊìÖÈïøÁî®ËØ≠Ë®ÄË°®ËææÁà±„ÄÇTAÂèØËÉΩ‰∏ç‰ºöÂÜôÊÉÖ‰π¶Ôºå‰ΩÜTAËÆ∞ÂæóÁªô‰Ω†‰π∞Êó©È§ê‚Äî‚ÄîËøô‰πüÊòØÁà±„ÄÇ" },
      { title: "Êää‰ª™ÂºèÊÑüÂàÜ‰∫´ÁªôÂØπÊñπ", text: "‰∏éÂÖ∂Á≠âÂæÖÂØπÊñπÂà∂ÈÄ†Êµ™Êº´Ôºå‰∏çÂ¶Ç‰∏ªÂä®ÊïôTA‰Ω†ÂñúÊ¨¢ÁöÑÊñπÂºè„ÄÇÂ•ΩÁöÑÂÖ≥Á≥ªÈúÄË¶ÅÂèåÂêëÊïôËÇ≤ÂíåÊàêÈïø„ÄÇ" }
    ],
    loveLetter: "‰∫≤Áà±ÁöÑÊµ™Êº´Á≥ªÊÅã‰∫∫Ôºö\n\nËøô‰∏™‰∏ñÁïåË∂äÊù•Ë∂äÂø´ÔºåË∂äÊù•Ë∂äÁ≤óÁ≥ôÔºå‰ΩÜ‰Ω†ËøòÂú®ÂùöÊåÅÊääÊó•Â≠êËøáÊàêËØó„ÄÇ‰Ω†Áõ∏‰ø°Êó•ËêΩÂÄºÂæó‰∏ÄËµ∑ÁúãÔºåÁõ∏‰ø°Á∫™ÂøµÊó•ÂÄºÂæóÂ∫ÜÁ•ùÔºåÁõ∏‰ø°‰∏ÄÊúµËä±‰πüËÉΩ‰º†ÈÄíÂçÉË®Ä‰∏áËØ≠„ÄÇ\n\n‰Ω†‰∏çÊòØÁü´ÊÉÖÔºå‰Ω†Âè™ÊòØÊØîÂà´‰∫∫Êõ¥ËÆ§ÁúüÂú∞ÂØπÂæÖÁà±ÊÉÖ„ÄÇËøô‰ªΩËÆ§ÁúüÔºåÁªà‰ºöÈÅáÂà∞‰∏Ä‰∏™ÊáÇÂæóÁèçÊÉúÁöÑ‰∫∫„ÄÇ\n\n‰∏∫‰Ω†ÁöÑÊµ™Êº´ÂñùÂΩ©ÁöÑÔºåÂÆáÂÆô",
    partnerView: "ÂíåTAÂú®‰∏ÄËµ∑ÔºåÁîüÊ¥ªËá™Â∏¶Êª§Èïú„ÄÇTA‰ºöÂú®ÊôÆÈÄöÁöÑÂë®‰∫åÊôö‰∏äÁÇπ‰∏äËú°ÁÉõÔºåÊääÂ§ñÂçñÊëÜÊàêÂÉèÊ†∑ÁöÑÁÉõÂÖâÊôöÈ§êÔºõ‰ºöÊää‰Ω†ÈöèÂè£ËØ¥ÁöÑ‰∏ÄÂè•ËØùËÆ∞‰ΩèÔºåÁÑ∂ÂêéÂú®Êüê‰∏™ËäÇÊó•ÂèòÊàêÊÉäÂñú„ÄÇTAËÆ©‰Ω†ËßâÂæóËá™Â∑±ÊòØ‰∏ñÁïå‰∏äÊúÄÁâπÂà´ÁöÑ‰∫∫„ÄÇÊúâÊó∂ÂÄôTAÁöÑÊúüÂæÖËÆ©‰Ω†ÊúâÁÇπÂéãÂäõ‚Äî‚Äî‰ΩÜÊõ¥Â§öÁöÑÊó∂ÂÄôÔºå‰Ω†Âú®ÂøÉÈáåÂÅ∑ÂÅ∑ÊÑüË∞¢ÔºöÊúâ‰∫∫Êää‰Ω†ÊîæÂú®ÂøÉ‰∏äÁöÑÊÑüËßâÔºåÁúüÂ•Ω„ÄÇ",
    superpower: { name: "Ê∞õÂõ¥Ëê•ÈÄ†ÊúØ", desc: "‰Ω†ÊúâÂåñËÖêÊúΩ‰∏∫Á•ûÂ•áÁöÑËÉΩÂäõ„ÄÇ‰∏ÄÈ°øÊôÆÈÄöÁöÑÊôöÈ§ê„ÄÅ‰∏Ä‰∏™Âπ≥Âá°ÁöÑÂë®Êú´„ÄÅ‰∏ÄÊÆµÊó•Â∏∏ÁöÑÂØπËØùÔºåÂà∞‰∫Ü‰Ω†ÊâãÈáåÈÉΩËÉΩÂèòÊàêÂÄºÂæóÁ∫™ÂøµÁöÑÁû¨Èó¥„ÄÇ‰Ω†ËÆ©Áà±ÊÉÖÈáåÁöÑÊØè‰∏ÄÂ§©ÈÉΩÊúâ‰∫ÜË¢´ËÆ∞‰ΩèÁöÑÁêÜÁî±„ÄÇ" },
    toFuturePartner: "Ëá¥Êú™Êù•ÁöÑ‰Ω†Ôºö\n\nÊàë‰ºöÊääÊàë‰ª¨ÁöÑÊïÖ‰∫ãÂÜôÊàêÊúÄÁæéÁöÑÁØáÁ´†„ÄÇÁ¨¨‰∏ÄÊ¨°ÁâµÊâãÊòØÂì™Â§©„ÄÅ‰Ω†ËØ¥ËøáÊúÄÁîúÁöÑËØùÊòØ‰ªÄ‰πà„ÄÅÊàë‰ª¨ÂéªËøáÊúÄÁæéÁöÑÂú∞Êñπ‚Äî‚ÄîÊàëÈÉΩ‰ºöËÆ∞Âæó„ÄÇ\n\nÊàëÂØπÊµ™Êº´ÁöÑËøΩÊ±ÇÂèØËÉΩÊúâÁÇπ„ÄåËøáÂàÜ„ÄçÔºå‰ΩÜÈÇ£Âè™ÊòØÂõ†‰∏∫‰Ω†ÂÄºÂæó„ÄÇ\n\nÂ∑≤ÁªèÂú®‰∏∫‰Ω†Á≠ñÂàíÊÉäÂñúÁöÑ‰∫∫"
  },
  guardian: {
    name: "ÂÆàÊä§Á≥ªÊÅã‰∫∫", icon: "üõ°Ô∏è", theme: "theme-guardian",
    tags: ["ÂÆâÂÖ®ÊÑüÊãÖÂΩì", "Âø†ËØöÂèØÈù†", "ÁªÜÊ∞¥ÈïøÊµÅ"],
    traits: ["Ë¥£‰ªªÂøÉÂº∫", "Ë∏èÂÆûÁ®≥Èáç", "ÈªòÈªòÂÆàÊä§"],
    quote: "„ÄåÊúÄÈïøÊÉÖÁöÑÂëäÁôΩÔºåÊòØÊó•Â§ç‰∏ÄÊó•ÁöÑÈô™‰º¥„Äç",
    desc: "‰Ω†ÊòØÈÇ£ÁßçËÆ©‰∫∫‰∏ÄÊÉ≥Âà∞Â∞±ËßâÂæóÂÆâÂøÉÁöÑÂ≠òÂú®„ÄÇ‰Ω†‰∏ç‰ºöËØ¥Â§™Â§öÁîúË®ÄËúúËØ≠Ôºå‰ΩÜ‰Ω†ÁöÑÊØè‰∏Ä‰∏™Ë°åÂä®ÈÉΩÂú®Êó†Â£∞Âú∞ËØ¥„ÄåÊàëÂú®„Äç„ÄÇ‰Ω†Áõ∏‰ø°Áà±ÊÉÖÈúÄË¶ÅÁªèËê•ÔºåÊÑøÊÑè‰∏∫‰∏ÄÊÆµÂÖ≥Á≥ª‰ªòÂá∫Êó∂Èó¥ÂíåËÄêÂøÉ„ÄÇÂú®‰Ω†ÁúãÊù•ÔºåÊúÄÊµ™Êº´ÁöÑ‰∫ãÂ∞±ÊòØÂíå‰∏Ä‰∏™‰∫∫ÊÖ¢ÊÖ¢ÂèòËÄÅÔºåÊääÂπ≥Âá°Êó•Â≠êËøáÊàêÂÄºÂæóÂõûÂøÜÁöÑÁØáÁ´†„ÄÇ",
    bestMatch: "ÁÅµÈ≠ÇÁ≥ªÊÅã‰∫∫",
    bestMatchWhy: "TAÁöÑÊ∑±Â∫¶ÊÄùËÄÉËÆ©‰Ω†ÁùÄËø∑Ôºå‰Ω†ÁöÑË∏èÂÆûÂÆâÁ®≥ÂèàÊòØTAÊúÄÈúÄË¶ÅÁöÑÂÆâÂÖ®ÊÑü",
    loveLanguage: "Ë°åÂä®ÂÆàÊä§Âûã", keyword: "Êó†ËÆ∫ÂèëÁîü‰ªÄ‰πàÔºåÊàëÈÉΩÂú®",
    strengths: ["ÊûÅÈ´òÁöÑË¥£‰ªªÊÑüÔºåËÆ©‰º¥‰æ£ÊÑüÂà∞Ë∏èÂÆûÂèØÈù†", "ËÄêÂøÉÁªèËê•ÂÖ≥Á≥ªÔºå‰∏ç‰ºöÂõ†‰∏∫‰∏ÄÊó∂ÁöÑÂõ∞ÈöæÂ∞±ÊîæÂºÉ", "Âú®Âç±Êú∫Êó∂ÂàªÊòØÊúÄÂèØÈù†ÁöÑÂêéÁõæ"],
    blindSpots: ["‰∏çÂñÑË®ÄËæûÔºåÂØπÊñπÂèØËÉΩ‰ºöËßâÂæó‰Ω†„ÄåÈó∑„ÄçÊàñ„Äå‰∏çÂ§üÊµ™Êº´„Äç", "ÂèØËÉΩËøá‰∫éÊ≥®ÈáçÁ®≥ÂÆöËÄåÁº∫Â∞ëÊÉäÂñúÊÑüÔºåÂÖ≥Á≥ªÂÆπÊòìËøõÂÖ•ËàíÈÄÇÂå∫"],
    compatibility: { healing: 85, adventure: 74, rational: 75, romantic: 70, guardian: 60, soulmate: 92 },
    advice: [
      { title: "Áî®ËØ≠Ë®ÄËØ¥Âá∫‰Ω†ÁöÑÁà±", text: "‰Ω†ÁöÑË°åÂä®Â∑≤ÁªèÂæàÂ•Ω‰∫ÜÔºå‰ΩÜÂØπÊñπÊúâÊó∂‰πüÈúÄË¶ÅÂê¨Âà∞„ÄåÊàëÁà±‰Ω†„ÄçËøô‰∏â‰∏™Â≠ó„ÄÇ‰ªäÂ§©Â∞±ËØïÁùÄËØ¥‰∏ÄÊ¨°ÂêßÔºå‰∏ç‰ºö‰∏¢Èù¢Â≠êÁöÑ„ÄÇ" },
      { title: "ÂÅ∂Â∞îÊâìÁ†¥Â∏∏ËßÑ", text: "Á®≥ÂÆöÊòØ‰Ω†ÁöÑ‰ºòÂäøÔºå‰ΩÜÂÅ∂Â∞îÁöÑÊÑèÂ§ñ‰πüÂæàÈáçË¶Å„ÄÇ‰∏çÁî®Â§™Â§ßÂä®‰ΩúÔºå‰∏ÄÊùüËä±„ÄÅ‰∏Ä‰∏™Êñ∞È§êÂéÖÂ∞±Â§ü‰∫Ü„ÄÇ" },
      { title: "‰∏çË¶ÅÊääÊâÄÊúâÂéãÂäõËá™Â∑±Êâõ", text: "‰Ω†‰π†ÊÉØÂΩì‰øùÊä§ËÄÖÔºå‰ΩÜÂ•ΩÁöÑÂÖ≥Á≥ªÊòØ‰∫íÁõ∏‰æùÈù†ÁöÑ„ÄÇËÆ©ÂØπÊñπ‰πüÊúâÊú∫‰ºöÁÖßÈ°æ‰Ω†ÔºåTA‰ºöÂõ†Ê≠§Êõ¥Áà±‰Ω†„ÄÇ" }
    ],
    loveLetter: "‰∫≤Áà±ÁöÑÂÆàÊä§Á≥ªÊÅã‰∫∫Ôºö\n\n‰Ω†ÂèØËÉΩËßâÂæóËá™Â∑±ÂæàÊôÆÈÄö‚Äî‚Äî‰∏çÂ§üÊµ™Êº´„ÄÅ‰∏çÂ§üÊúâË∂£„ÄÅ‰∏çÂ§ü‰ºöËØ¥ËØù„ÄÇ‰ΩÜ‰Ω†Áü•ÈÅìÂêóÔºü‰Ω†ÊâçÊòØÁà±ÊÉÖÈáåÊúÄÁèçË¥µÁöÑÂ≠òÂú®„ÄÇ\n\nËøô‰∏™Êó∂‰ª£‰∫∫‰∫∫ÈÉΩÂú®ËøΩÊ±ÇËΩ∞ËΩ∞ÁÉàÁÉàÔºåÂèØÁúüÊ≠£ËÉΩËÆ©‰∫∫ÂÆâÂøÉÁöÑÔºåÊòØ‰Ω†ËøôÁßç„ÄåÊó†ËÆ∫ÂèëÁîü‰ªÄ‰πàÔºåÊàëÈÉΩÂú®„ÄçÁöÑÊâøËØ∫„ÄÇ‰Ω†ÁöÑÁà±‰∏çÊòØÁÉüËä±ÔºåÊòØÂ£ÅÁÇâÁöÑÁÅ´‚Äî‚Äî‰∏çÈÇ£‰πàËÄÄÁúºÔºå‰ΩÜË∂≥Â§üÊ∏©Êöñ‰∏Ä‰∏™‰∫∫‰∏ÄËæàÂ≠ê„ÄÇ\n\nÊúÄÂøÉÁñº‰Ω†ÁöÑÔºåÂÆáÂÆô",
    partnerView: "ÂíåTAÂú®‰∏ÄËµ∑ÔºåÂÉèÁ©ø‰∫Ü‰∏Ä‰ª∂ÈöêÂΩ¢ÁöÑÈò≤ÂºπË°£„ÄÇTA‰∏ç‰ºöËØ¥„ÄåÊàëÁà±‰Ω†„ÄçÔºå‰ΩÜTA‰ºöÂú®‰∏ãÈõ®Â§©ÈªòÈªòÂá∫Áé∞Âú®‰Ω†ÂÖ¨Âè∏Ê•º‰∏ãÔºõ‰Ω†ÁîüÁóÖÁöÑÊó∂ÂÄôTAÊØî‰Ω†ËøòÁ¥ßÂº†Ôºõ‰Ω†ÂíåTAËØ¥ËøáÁöÑ‰∫ãÔºåTAÂÖ®ÈÉΩËÆ∞Âæó„ÄÇTAÁöÑÁà±Á¨®Êãô‰ΩÜÊ≤âÁî∏Áî∏ÁöÑÔºåËÆ©‰Ω†ËßâÂæóËøôËæàÂ≠êÊúâ‰∫∫ÂÖúÂ∫ï‚Äî‚ÄîËøôÁßçÊÑüËßâÔºåÊØî‰ªª‰ΩïÁîúË®ÄËúúËØ≠ÈÉΩËÆ©‰∫∫‰∏äÁòæ„ÄÇ",
    superpower: { name: "ÂÆâÂÖ®ÊÑüÂà∂ÈÄ†Êú∫", desc: "‰Ω†Êã•ÊúâËÆ©‰∫∫Áû¨Èó¥ÂÆâÂøÉÁöÑËÉΩÂäõ„ÄÇ‰Ω†ÁöÑÂ≠òÂú®Êú¨Ë∫´Â∞±ÊòØ‰∏ÄÈ¢óÂÆöÂøÉ‰∏∏„ÄÇÂú®‰∏çÁ°ÆÂÆöÁöÑ‰∏ñÁïåÈáåÔºå‰Ω†ÊòØ‰º¥‰æ£ÊúÄÁ°ÆÂÆöÁöÑ‰∫ã„ÄÇËøôÁßçË∏èÂÆûÊÑüÔºåÊòØÈáëÈí±‰π∞‰∏çÂà∞ÁöÑÂ•¢‰æàÂìÅ„ÄÇ" },
    toFuturePartner: "Ëá¥Êú™Êù•ÁöÑ‰Ω†Ôºö\n\nÊàëÂèØËÉΩ‰∏ç‰ºöÂÜôÊÉÖ‰π¶Ôºå‰∏ç‰ºöÁ≠ñÂàíÊÉäÂñúÔºåÁîöËá≥Ëøû„ÄåÊàëÁà±‰Ω†„ÄçÈÉΩËØ¥‰∏çÂ§™Âá∫Âè£„ÄÇ‰ΩÜÊàë‰ºöËÆ∞Âæó‰Ω†ÂñúÊ¨¢‰ªÄ‰πàÂè£Âë≥ÁöÑÂ•∂Ëå∂Ôºå‰ºöÂú®ÂÜ¨Â§©ÊèêÂâçÂ∏Æ‰Ω†ÊöñÂ•ΩË¢´Á™ùÔºå‰ºöÂú®‰Ω†ÂÆ≥ÊÄïÁöÑÊó∂ÂÄôÊè°Á¥ß‰Ω†ÁöÑÊâã„ÄÇ\n\nÊàëÁöÑÁà±ÊÉÖÂèØËÉΩÊ≤°ÈÇ£‰πàÁ≤æÂΩ©Ôºå‰ΩÜÊàë‰øùËØÅ‚Äî‚ÄîÂæàÈïøÂæàÈïø„ÄÇ\n\n‰∏ÄÁõ¥ÈÉΩÂú®ÁöÑ‰∫∫"
  },
  soulmate: {
    name: "ÁÅµÈ≠ÇÁ≥ªÊÅã‰∫∫", icon: "üîÆ", theme: "theme-soulmate",
    tags: ["Á≤æÁ•ûÂÖ±È∏£", "Ê∑±Â∫¶ËøûÊé•", "ÁÅµÈ≠ÇÁü•Â∑±"],
    traits: ["ÂÜÖÂøÉ‰∏∞ÂØå", "ËøΩÊ±ÇÊ∑±Â∫¶", "Áã¨Á´ãÊÄùËÄÉ"],
    quote: "„ÄåËå´Ëå´‰∫∫Êµ∑ÔºåÊàëÂè™‰∏∫ÁÅµÈ≠ÇÁõ∏‰ººÁöÑ‰Ω†ÂÅúÁïô„Äç",
    desc: "‰Ω†ËøΩÊ±ÇÁöÑ‰∏çÊòØË°®Èù¢ÁöÑÁîúËúúÔºåËÄåÊòØÁÅµÈ≠ÇÊ∑±Â§ÑÁöÑÈúáÈ¢§„ÄÇ‰Ω†Ê∏¥Êúõ‰∏Ä‰∏™ÁúüÊ≠£ÊáÇ‰Ω†ÁöÑ‰∫∫‚Äî‚Äî‰∏çÈúÄË¶ÅÂ§™Â§öËß£ÈáäÔºå‰∏Ä‰∏™ÁúºÁ•ûÂ∞±Â§ü‰∫Ü„ÄÇ‰Ω†Âú®ÊÑüÊÉÖ‰∏≠Êúâ‰∫õÊÖ¢ÁÉ≠ÔºåÂõ†‰∏∫‰Ω†Âú®Á≠âÈÇ£‰∏™È¢ëÁéáÂÆåÂÖ®ÂØπ‰∏äÁöÑ‰∫∫„ÄÇ‰∏ÄÊó¶ÊâæÂà∞Ôºå‰Ω†‰ºöÁªôÂá∫ÊúÄÊ∑±Ê≤â„ÄÅÊúÄÁ∫ØÁ≤πÁöÑÁà±„ÄÇ‰Ω†‰ª¨ÁöÑÁà±ÊÉÖÔºåÊòØÊÄùÊÉ≥ÁöÑÁ¢∞ÊíûÂíåÁÅµÈ≠ÇÁöÑÂÖ±Ëàû„ÄÇ",
    bestMatch: "ÂÆàÊä§Á≥ªÊÅã‰∫∫",
    bestMatchWhy: "TAÁöÑÁ®≥ÈáçÁªô‰∫Ü‰Ω†ÂÆâÂÖ®ÊÑüÂéªÊïûÂºÄÂøÉÊââÔºå‰Ω†ÁöÑÊ∑±Â∫¶ÂèàËÆ©TAËßâÂæóÈÅáÂà∞‰∫ÜÁü•Â∑±",
    loveLanguage: "Á≤æÁ•ûÂÖ±È∏£Âûã", keyword: "‰Ω†ÊòØÂîØ‰∏ÄÊáÇÊàëÁöÑ‰∫∫",
    strengths: ["ËÉΩÁªô‰∫à‰º¥‰æ£Ê∑±Â±ÇÊ¨°ÁöÑÁêÜËß£ÂíåÂÖ±È∏£", "ÂÖ≥Á≥ªË¥®ÈáèÊûÅÈ´òÔºå‰∏çÊµÅ‰∫éË°®Èù¢", "Âø†ËØö‰∏î‰∏ì‰∏ÄÔºå‰∏ÄÊó¶ËÆ§ÂÆö‰æøÂÖ®Ë∫´ÂøÉÊäïÂÖ•"],
    blindSpots: ["ËøáÈ´òÁöÑÁ≤æÁ•ûÂ•ëÂêàÊ†áÂáÜÂèØËÉΩËÆ©‰Ω†ÈîôËøá„Äå‰∏çÂÆåÁæé‰ΩÜÂæàÂ•Ω„ÄçÁöÑ‰∫∫", "ÊÖ¢ÁÉ≠ÁâπË¥®ÂèØËÉΩËÆ©ÂØπÊñπÂú®ÂàùÊúüËØØ‰ª•‰∏∫‰Ω†‰∏çÊÑüÂÖ¥Ë∂£"],
    compatibility: { healing: 74, adventure: 78, rational: 82, romantic: 85, guardian: 92, soulmate: 58 },
    advice: [
      { title: "ÁªôÂΩºÊ≠§ÊàêÈïøÁöÑÁ©∫Èó¥", text: "ÁÅµÈ≠Ç‰º¥‰æ£‰∏çÊòØ‰∏ÄÂºÄÂßãÂ∞±100%Â•ëÂêàÁöÑ„ÄÇÂÖÅËÆ∏ÂØπÊñπÊúâ‰Ω†‰∏çÁêÜËß£ÁöÑÈÉ®ÂàÜÔºåÂú®Á£®Âêà‰∏≠Âä†Ê∑±ËøûÊé•ÔºåÊØîÂØªÊâæÂÆåÁæéÂåπÈÖçÊõ¥Áé∞ÂÆû„ÄÇ" },
      { title: "‰∏ªÂä®ÈáäÊîæ‰ø°Âè∑", text: "‰Ω†ÁöÑÊÖ¢ÁÉ≠ËÆ©‰∫∫Èöæ‰ª•Èù†Ëøë„ÄÇÂú®ÂøÉÂä®ÁöÑÊó∂ÂÄôÔºåËØïÁùÄ‰∏ªÂä®‰∏ÄÁÇπ‚Äî‚ÄîÂì™ÊÄïÂè™ÊòØÂ§öÁúãÂØπÊñπ‰∏ÄÁúº„ÄÅÂ§öÂõû‰∏ÄÂè•Ê∂àÊÅØ„ÄÇ" },
      { title: "Áî®Ë∫´‰ΩìËØ≠Ë®ÄË°•ÂÖÖÁ≤æÁ•ûËøûÊé•", text: "‰Ω†ÊìÖÈïøÁ≤æÁ•ûÂ±ÇÈù¢ÁöÑÊ≤üÈÄöÔºå‰ΩÜÂà´Âøò‰∫ÜËÇ¢‰ΩìÊé•Ëß¶ÁöÑÂäõÈáè„ÄÇ‰∏Ä‰∏™Êã•Êä±„ÄÅ‰∏ÄÊ¨°ÁâµÊâãÔºåÊúâÊó∂ËÉúËøáÂçÉË®Ä‰∏áËØ≠„ÄÇ" }
    ],
    loveLetter: "‰∫≤Áà±ÁöÑÁÅµÈ≠ÇÁ≥ªÊÅã‰∫∫Ôºö\n\n‰Ω†ÊòØ‰∫∫Êµ∑‰∏≠ÊúÄÂÆâÈùôÁöÑÂºÇÁ±ª„ÄÇÂΩìÂà´‰∫∫ÂøôÁùÄÊÅãÁà±ÁöÑÂΩ¢ÂºèÔºå‰Ω†Âú®ÂØªÊâæÁÅµÈ≠ÇÁöÑÂõûÂìç„ÄÇ‰Ω†ÁöÑÊ†áÂáÜ‰∏çÊòØËÑ∏„ÄÅ‰∏çÊòØÈí±ÔºåËÄåÊòØÈÇ£ÁßçËØ¥‰∏çÊ∏ÖÈÅì‰∏çÊòéÁöÑ„ÄåÈ¢ëÁéá„Äç‚Äî‚ÄîÂØπ‰∏ä‰∫ÜÔºåÂÖ®‰∏ñÁïåÈÉΩÂÆâÈùô‰∫Ü„ÄÇ\n\n‰Ω†ÁöÑÊÖ¢ÁÉ≠‰∏çÊòØ‰∏çÂ§üÁà±ÔºåÊòØ‰Ω†ÊääÁà±ÁúãÂæóÂ§™Èáç„ÄÅÂ§™ËÆ§Áúü„ÄÇËøôÊ†∑ÁöÑ‰Ω†ÔºåÂÄºÂæó‰∏Ä‰∏™ÂêåÊ†∑ËÆ§ÁúüÁöÑÁÅµÈ≠Ç„ÄÇ\n\nÁêÜËß£‰Ω†ÁöÑÔºåÂÆáÂÆô",
    partnerView: "ÂíåTAÂú®‰∏ÄËµ∑ÔºåÂÉèÊâæÂà∞‰∫Ü‰∏ÄÊú¨ËØª‰∏çÂÆåÁöÑ‰π¶„ÄÇTA‰∏çÊòØÈÇ£Áßç‰∏ÄËßÅÈù¢Â∞±ÁÉ≠ÁÉàÁöÑ‰∫∫Ôºå‰ΩÜÂΩì‰Ω†‰ª¨ÂºÄÂßãËÅäÂ§©Ôºå‰∏â‰∏™Â∞èÊó∂ÂÉè‰∏âÂàÜÈíü„ÄÇTAÊÄªËÉΩËØ¥Âá∫‰Ω†ÊÉ≥ËØ¥‰ΩÜËØ¥‰∏çÂá∫ÁöÑËØùÔºåËÆ©‰Ω†Êúâ‰∏ÄÁßç„ÄåÁªà‰∫éÊúâ‰∫∫ÊáÇÊàë„ÄçÁöÑÈúáÊíº„ÄÇTAÁöÑÊ≤âÈªò‰∏çÊòØÂÜ∑Êº†ÔºåÊòØÂú®ËÆ§ÁúüÊÑüÂèó‰Ω†„ÄÇÂΩìTAÁªà‰∫éÊïûÂºÄÂøÉÊââÁöÑÈÇ£‰∏ÄÂàªÔºå‰Ω†‰ºöËßâÂæó‚Äî‚ÄîÁ≠â‰∫ÜËøô‰πà‰πÖÔºåÂÄº‰∫Ü„ÄÇ",
    superpower: { name: "ÁÅµÈ≠ÇÂÖ±ÊåØÂäõ", desc: "‰Ω†Êã•ÊúâÁ©øÈÄèË°®Ë±°Áõ¥ËææÊú¨Ë¥®ÁöÑËÉΩÂäõ„ÄÇ‰Ω†ËÉΩÂú®‰∫∫Áæ§‰∏≠Á≤æÂáÜËØÜÂà´Âá∫‰∏é‰Ω†È¢ëÁéáÁõ∏ÂêåÁöÑÁÅµÈ≠Ç„ÄÇ‰Ω†ÁöÑÊÑüÁü•ÂäõËÆ©‰º¥‰æ£ËßâÂæóÔºöÂú®‰Ω†Èù¢ÂâçÔºå‰∏çÈúÄË¶ÅËß£ÈáäÔºå‰Ω†ÈÉΩÊáÇ„ÄÇ" },
    toFuturePartner: "Ëá¥Êú™Êù•ÁöÑ‰Ω†Ôºö\n\nÊàëÊâæ‰Ω†Êâæ‰∫ÜÂæà‰πÖ„ÄÇ‰∏çÊòØÊ≤°‰∫∫ËøΩÊàëÔºåÊòØÊ≤°‰∫∫ËÉΩËÆ©ÊàëÂøÉÈáåÈÇ£Ê†πÂº¶ÈúáÂä®„ÄÇÁõ¥Âà∞ÈÅáÂà∞‰Ω†‚Äî‚Äî‰Ω†ËØ¥‰∫Ü‰∏ÄÂè•ËØùÔºåÊàëÊ≤âÈªòÁöÑ‰∏ñÁïåÁ™ÅÁÑ∂Êúâ‰∫ÜÂõûÂ£∞„ÄÇ\n\nÊàë‰∏çÈúÄË¶Å‰Ω†ÂÆåÁæéÔºåÂè™ÈúÄË¶Å‰Ω†ÁúüÂÆû„ÄÇÊàë‰ª¨‰∏çÂøÖÊØèÂ§©ËØ¥„ÄåÊàëÁà±‰Ω†„ÄçÔºå‰ΩÜÊØè‰∏ÄÊ¨°ÂØπËßÜÔºåÈÉΩÁü•ÈÅìÂΩºÊ≠§Âú®ÊÉ≥‰ªÄ‰πà„ÄÇ\n\nÁªà‰∫éÁ≠âÂà∞‰Ω†ÁöÑ‰∫∫"
  }
};

// ===== State =====
let currentQ = 0;
let scores = {};

function resetScores() {
  scores = { healing: 0, adventure: 0, rational: 0, romantic: 0, guardian: 0, soulmate: 0 };
}

// ===== Navigation =====
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function startQuiz() {
  currentQ = 0;
  resetScores();
  showScreen('quizScreen');
  renderQuestion();
}

// ===== Quiz =====
function renderQuestion() {
  const q = questions[currentQ];
  const total = questions.length;
  const pct = ((currentQ) / total * 100);

  document.getElementById('progressBar').style.width = pct + '%';
  document.getElementById('progressText').textContent = `${currentQ + 1} / ${total}`;

  const container = document.getElementById('questionContainer');
  container.innerHTML = `
    <div class="question-num">Q${currentQ + 1}</div>
    <div class="question-text">${q.q}</div>
    <div class="options">
      ${q.opts.map((opt, i) => `
        <button class="option-btn" onclick="selectOption(${i})">${opt.text}</button>
      `).join('')}
    </div>
  `;
  // Re-trigger animation
  container.style.animation = 'none';
  container.offsetHeight;
  container.style.animation = 'fadeIn 0.4s ease';
}

function selectOption(idx) {
  const btns = document.querySelectorAll('.option-btn');
  btns.forEach(b => b.classList.remove('selected'));
  btns[idx].classList.add('selected');

  const opt = questions[currentQ].opts[idx];
  for (const [type, val] of Object.entries(opt.scores)) {
    scores[type] += val;
  }

  setTimeout(() => {
    currentQ++;
    if (currentQ < questions.length) {
      renderQuestion();
    } else {
      document.getElementById('progressBar').style.width = '100%';
      showLoading();
    }
  }, 300);
}

// ===== Loading =====
function showLoading() {
  showScreen('loadingScreen');
  setTimeout(() => showResult(), 2200);
}

// ===== Global result state =====
let resultType = null;
let resultPct = 0;

// ===== Result =====
function showResult() {
  let maxType = 'healing', maxScore = 0;
  for (const [type, score] of Object.entries(scores)) {
    if (score > maxScore) { maxScore = score; maxType = type; }
  }
  const rawPct = (maxScore / 16) * 100;
  const percentage = Math.min(98, Math.max(75, Math.round(rawPct * 0.3 + 70)));
  resultType = maxType;
  resultPct = percentage;
  const t = types[maxType];
  const rareBase = { healing: 18, adventure: 9, rational: 11, romantic: 15, guardian: 7, soulmate: 5 };
  const rarePct = (rareBase[maxType] || 10) + Math.floor(Math.random() * 4) - 1;

  // Build color for compatibility bars
  const compatColors = {
    healing: '#f59e0b', adventure: '#ef4444', rational: '#3b82f6',
    romantic: '#a855f7', guardian: '#10b981', soulmate: '#6366f1'
  };

  const resultHTML = `
    <!-- ===== SHARE CARD (screenshot-optimized) ===== -->
    <div class="share-card ${t.theme}" id="shareCard">
      <div class="share-card-inner">
        <div class="share-rank">ÂÖ®ÁΩë‰ªÖ ${rarePct}% ÂêåÊ¨æÊÅã‰∫∫ ¬∑ Á®ÄÊúâ‰∫∫Ê†º</div>
        <div class="share-pct">${percentage}<span class="share-pct-sign">%</span></div>
        <div class="share-type-icon">${t.icon}</div>
        <div class="share-type-name">${t.name}</div>
        <div class="share-quote">${t.quote}</div>
        <div class="share-tags">
          ${t.tags.map(tag => `<span class="share-tag">${tag}</span>`).join('')}
          ${t.traits.map(tag => `<span class="share-tag">${tag}</span>`).join('')}
        </div>
        <div class="radar-wrap"><canvas id="radarCanvas"></canvas></div>
        <div class="share-footer">
          <div class="share-footer-brand">ÊÅãÁà±‰∫∫Ê†ºÂõæÈâ¥<br><span style="font-size:10px;opacity:0.7">Êâ´Á†ÅÊµãÊµã‰Ω†ÁöÑÊÅãÁà±‰∫∫Ê†º</span></div>
          <canvas id="qrCanvas" style="width:52px;height:52px;border-radius:6px;"></canvas>
        </div>
      </div>
    </div>

    <!-- ===== FREE BRIEF ===== -->
    <div class="brief-section">
      <div class="brief-card">
        <div class="brief-card-title">‚ú® ‰∫∫Ê†ºËß£ËØª</div>
        <p>${t.desc}</p>
      </div>
      <div class="brief-card">
        <div class="brief-card-title">üíò ÊÅãÁà±Ê°£Ê°à</div>
        <div class="brief-row">
          <span class="be">üí¨</span><span class="bl">Áà±ÊÉÖËØ≠Ë®Ä</span><span class="bv">${t.loveLanguage}</span>
        </div>
        <div class="brief-row">
          <span class="be">üîë</span><span class="bl">ÂÖ≥ÈîÆËØç</span><span class="bv">${t.keyword}</span>
        </div>
        <div class="brief-row">
          <span class="be">üíï</span><span class="bl">ÊúÄ‰Ω≥CP</span><span class="bv">${t.bestMatch}</span>
        </div>
      </div>
    </div>

    <!-- ===== ÈòÖËØªÊõ¥Â§ö ===== -->
    <div id="readMoreSection" style="text-align:center;padding:20px 0 8px;">
      <div style="font-size:14px;color:#9ca3af;margin-bottom:12px;">ËøòÊúâÊõ¥Â§öÊ∑±Â∫¶ÂàÜÊûêÁ≠â‰Ω†ÂèëÁé∞</div>
      <button onclick="expandReport()" style="
        display:inline-flex;align-items:center;gap:6px;
        padding:12px 32px;border:none;border-radius:50px;
        background:linear-gradient(135deg,#ec4899,#a855f7);
        color:#fff;font-size:15px;font-weight:700;
        box-shadow:0 4px 20px rgba(168,85,247,0.3);
        cursor:pointer;letter-spacing:0.5px;
      ">üìñ ÈòÖËØªÊõ¥Â§ö</button>
    </div>

    <!-- ===== UNLOCKED REPORT (hidden by default) ===== -->
    <div class="report-unlocked" id="reportUnlocked">
      <div class="report-card" style="animation-delay:0.1s">
        <div class="report-card-title">üí™ ÊÅãÁà±‰ºòÂäø</div>
        ${t.strengths.map(s => `<div class="report-item"><span class="report-item-icon">‚úÖ</span><span class="report-item-text">${s}</span></div>`).join('')}
      </div>
      <div class="report-card" style="animation-delay:0.2s">
        <div class="report-card-title">‚ö†Ô∏è ÊÅãÁà±Áõ≤Âå∫</div>
        ${t.blindSpots.map(s => `<div class="report-item"><span class="report-item-icon">üí°</span><span class="report-item-text">${s}</span></div>`).join('')}
      </div>
      <div class="report-card" style="animation-delay:0.3s">
        <div class="report-card-title">üîó ÂÖ®Á±ªÂûãÂåπÈÖçÂ∫¶</div>
        ${Object.entries(types).map(([k, v]) => `
          <div class="compat-row">
            <span class="compat-name">${v.icon} ${v.name.replace('ÊÅã‰∫∫','')}</span>
            <div class="compat-bar-bg"><div class="compat-bar compat-anim" data-w="${t.compatibility[k]}" style="width:0%;background:${compatColors[k]}"></div></div>
            <span class="compat-pct" style="color:${compatColors[k]}">${t.compatibility[k]}%</span>
          </div>
        `).join('')}
      </div>
      <div class="report-card" style="animation-delay:0.4s">
        <div class="report-card-title">üíå ‰∏ìÂ±ûÊÅãÁà±Âª∫ËÆÆ</div>
        ${t.advice.map(a => `
          <div class="advice-box">
            <div class="advice-box-title">${a.title}</div>
            <div class="advice-box-text">${a.text}</div>
          </div>
        `).join('')}
      </div>
      <div class="report-card" style="animation-delay:0.5s">
        <div class="report-card-title">‚ö° ‰Ω†ÁöÑÊÅãÁà±Ë∂ÖËÉΩÂäõ</div>
        <div style="text-align:center;padding:16px 0 8px;">
          <div style="font-size:36px;margin-bottom:8px;">${t.icon}</div>
          <div style="font-size:18px;font-weight:800;color:#7c3aed;margin-bottom:8px;">${t.superpower.name}</div>
          <div style="font-size:13px;line-height:1.8;color:#4b5563;">${t.superpower.desc}</div>
        </div>
      </div>
      <div class="report-card" style="animation-delay:0.6s">
        <div class="report-card-title">üíê TAÁúº‰∏≠ÁöÑ‰Ω†</div>
        <div style="font-size:13px;line-height:2;color:#4b5563;font-style:italic;padding:4px 0;border-left:3px solid #e9d5ff;padding-left:14px;">${t.partnerView}</div>
      </div>
      <div class="report-card" style="animation-delay:0.7s">
        <div class="report-card-title">üíã ÂÆáÂÆôÂÜôÁªô‰Ω†ÁöÑÊÅãÁà±‰ø°</div>
        <div style="font-size:13px;line-height:2;color:#4b5563;white-space:pre-line;padding:8px 14px;background:linear-gradient(135deg,rgba(236,72,153,0.04),rgba(168,85,247,0.04));border-radius:14px;">${t.loveLetter}</div>
      </div>
      <div class="report-card" style="animation-delay:0.8s">
        <div class="report-card-title">üíå ÂÜôÁªôÊú™Êù•‰º¥‰æ£ÁöÑËØù</div>
        <div style="font-size:13px;line-height:2;color:#4b5563;white-space:pre-line;padding:8px 14px;background:linear-gradient(135deg,rgba(236,72,153,0.04),rgba(168,85,247,0.04));border-radius:14px;">${t.toFuturePartner}</div>
      </div>
    </div>
  `;

  document.getElementById('resultScreen').innerHTML = resultHTML;
  showScreen('resultScreen');
  // Draw radar after DOM insert
  setTimeout(() => drawRadar('radarCanvas', scores), 100);
  // Draw QR code
  setTimeout(() => {
    const qr = qrcode(0, 'M');
    qr.addData(shareLink);
    qr.make();
    const canvas = document.getElementById('qrCanvas');
    if (!canvas) return;
    const mods = qr.getModuleCount();
    const size = mods * 4;
    canvas.width = size; canvas.height = size;
    canvas.style.width = '52px'; canvas.style.height = '52px';
    const ctx = canvas.getContext('2d');
    ctx.fillStyle = '#ffffff';
    ctx.fillRect(0, 0, size, size);
    for (let r = 0; r < mods; r++) {
      for (let c = 0; c < mods; c++) {
        if (qr.isDark(r, c)) {
          ctx.fillStyle = '#333333';
          ctx.fillRect(c*4, r*4, 4, 4);
        }
      }
    }
  }, 150);
}

// ===== Share =====
const shareLink = 'https://dreamcometrue123.github.io/love-personality/';
const captions = {
  wechat: () => `ÊàëÊµãÂá∫Êù•ÊòØ„Äå${types[resultType].name}„ÄçÔºÅÂåπÈÖçÂ∫¶${resultPct}%ÔºåÂ§™ÂáÜ‰∫ÜÂêßÔºÅ\n‰Ω†‰πüÊù•ÊµãÊµã‰Ω†ÊòØ‰ªÄ‰πàÊÅãÁà±‰∫∫Ê†ºüëá\n${shareLink}`,
  red: () => `Â§©ÂëêËøô‰∏™ÊÅãÁà±‰∫∫Ê†ºÊµãËØï‰πüÂ§™ÂáÜ‰∫ÜÂêßÔºÅÔºÅ\nÊàëÂ±ÖÁÑ∂ÊòØ„Äå${types[resultType].name}„Äç${types[resultType].icon}\n${types[resultType].quote}\n\nÂßêÂ¶π‰ª¨Âø´Êù•ÊµãÊµã‰Ω†ÊòØ‰ªÄ‰πàÁ±ªÂûãÔΩû\n\n#ÊÅãÁà±‰∫∫Ê†º #ÊÄßÊ†ºÊµãËØï #ÊÅãÁà±‰∫∫Ê†ºÂõæÈâ¥ #Ë∂£Âë≥ÊµãËØï #ÂøÉÁêÜÊµãËØï`,
  douyin: () => `Êµã‰∫Ü‰∏Ä‰∏ãÊÅãÁà±‰∫∫Ê†ºÔºåÊàëÊòØ„Äå${types[resultType].name}„Äç${types[resultType].icon}ÔºåÂåπÈÖçÂ∫¶${resultPct}%ÔºÅ\n${types[resultType].quote}\n‰Ω†ÊòØÂì™ÁßçÊÅãÁà±‰∫∫Ê†ºÔºüËØÑËÆ∫Âå∫ÂëäËØâÊàëÔΩû\n\n#ÊÅãÁà±‰∫∫Ê†ºÂõæÈâ¥ #ÊÄßÊ†ºÊµãËØï #ÊÅãÁà±‰∫∫Ê†º #ÂøÉÁêÜÊµãËØï`,
  xianyu: () => `„ÄêÊÅãÁà±‰∫∫Ê†ºÂõæÈâ¥„ÄëË∂£Âë≥ÊÄßÊ†ºÊµãËØï\nÊµãÊµã‰Ω†ÊòØÂì™ÁßçÊÅãÁà±‰∫∫Ê†ºÔºü6ÁßçÁ±ªÂûãÁ≠â‰Ω†Ëß£ÈîÅÔºÅ\nÊàëÊµãÂá∫Êù•ÊòØ„Äå${types[resultType].name}„ÄçÔºåÂáÜÂà∞Á¶ªË∞±ÔºÅ\n${shareLink}`
};

function shareResult() {
  const card = document.getElementById('shareCard');
  if (!card || typeof html2canvas === 'undefined') {
    showToast('ÁîüÊàê‰∏≠ÔºåËØ∑Á®çÂêéÂÜçËØï');
    return;
  }
  showToast('Ê≠£Âú®ÁîüÊàêÂàÜ‰∫´Âõæ...');
  html2canvas(card, {
    scale: 2,
    useCORS: true,
    backgroundColor: null
  }).then(canvas => {
    // Try direct download
    const dataUrl = canvas.toDataURL('image/png');
    const link = document.createElement('a');
    link.download = 'ÊÅãÁà±‰∫∫Ê†ºÂõæÈâ¥.png';
    link.href = dataUrl;
    link.click();
    showToast('ÂõæÁâáÂ∑≤‰øùÂ≠òÔºåÂéªÂàÜ‰∫´ÂêßÔºÅ');
    // Also show share sheet with caption options
    setTimeout(() => {
      document.getElementById('shareSheet').classList.add('show');
      document.getElementById('shareImgTip').classList.remove('show');
      document.getElementById('shareCaptionArea').classList.remove('show');
    }, 500);
  });
}

function closeShare() {
  document.getElementById('shareSheet').classList.remove('show');
}

function shareTo(platform) {
  const caption = captions[platform]();
  document.getElementById('shareCaptionText').textContent = caption;
  const labelMap = { wechat: 'ÂæÆ‰ø°ÊñáÊ°à', red: 'Â∞èÁ∫¢‰π¶ÊñáÊ°à', douyin: 'ÊäñÈü≥ÊñáÊ°à', xianyu: 'Èó≤È±ºÊñáÊ°à' };
  document.getElementById('shareCaptionLabel').textContent = labelMap[platform];
  document.getElementById('shareCaptionArea').classList.add('show');
}

function copyCaption() {
  const text = document.getElementById('shareCaptionText').textContent;
  navigator.clipboard.writeText(text).then(() => {
    showToast('ÊñáÊ°àÂ∑≤Â§çÂà∂');
  }).catch(() => {
    // Fallback
    const ta = document.createElement('textarea');
    ta.value = text;
    document.body.appendChild(ta);
    ta.select();
    document.execCommand('copy');
    document.body.removeChild(ta);
    showToast('ÊñáÊ°àÂ∑≤Â§çÂà∂');
  });
}

// ===== ÈòÖËØªÊõ¥Â§ö =====
function expandReport() {
  document.getElementById('readMoreSection').style.display = 'none';
  const report = document.getElementById('reportUnlocked');
  report.classList.add('show');
  setTimeout(() => {
    report.querySelectorAll('.compat-anim').forEach(bar => {
      bar.style.width = bar.dataset.w + '%';
    });
  }, 300);
  setTimeout(() => {
    report.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 200);
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2500);
}
</script>
</body>
</html>
